{"version":3,"sources":["webpack:///webpack/bootstrap 75ee39ddd4e400a69c6e","webpack:///../dapjs/built/util.js","webpack:///./node_modules/dapjs-targets/bin/FlashTarget.js","webpack:///../dapjs/built/main.js","webpack:///./src/main.ts","webpack:///./node_modules/dapjs-targets/bin/main.js","webpack:///./node_modules/dapjs-targets/bin/MbedTarget.js","webpack:///../dapjs/built/cortex_m.js","webpack:///../dapjs/built/debug.js","webpack:///../dapjs/built/breakpoint.js","webpack:///../dapjs/built/memory.js","webpack:///../dapjs/built/device.js","webpack:///../dapjs/built/dap.js","webpack:///./node_modules/dapjs-targets/bin/K64F.js","webpack:///./node_modules/dapjs-targets/bin/microbit.js","webpack:///./node_modules/thumb-assembler/bin/assembler.js","webpack:///./node_modules/webhid/bin/hid.js","webpack:///./src/device_selector.ts","webpack:///./src/logger.ts"],"names":[],"mappings":"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A,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,sC;;;;;;;AC7LA;AACA;AACA;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,iEAAiE,uBAAuB,EAAE,4BAA4B;AACrJ;AACA,KAAK;AACL;AACA;AACA,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,CAAC;AACD;AACA,oC;;;;;;;AC9YA;AACA;AACA;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,iEAAiE,uBAAuB,EAAE,4BAA4B;AACrJ;AACA,KAAK;AACL;AACA;AACA,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,YAAY;AAC/C;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,gBAAgB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,CAAC;AACD;AACA,iC;;;;;;;AChOA;AACA;AACA;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,iEAAiE,uBAAuB,EAAE,4BAA4B;AACrJ;AACA,KAAK;AACL;AACA;AACA,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,CAAC;AACD;AACA,sC;;;;;;;ACzHA;AACA;AACA;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,iEAAiE,uBAAuB,EAAE,4BAA4B;AACrJ;AACA,KAAK;AACL;AACA;AACA,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,sDAAsD;AACnG;AACA,6BAA6B,EAAE,EAAE,EAAE,EAAE;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC,6BAA6B,EAAE,EAAE;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,CAAC;AACD;AACA,kC;;;;;;;AC5VA;AACA;AACA;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,iEAAiE,uBAAuB,EAAE,4BAA4B;AACrJ;AACA,KAAK;AACL;AACA;AACA,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,SAAS;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,oBAAoB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,CAAC;AACD;AACA,kC;;;;;;;AChRA;AACA;AACA;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,iEAAiE,uBAAuB,EAAE,4BAA4B;AACrJ;AACA,KAAK;AACL;AACA;AACA,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4EAA4E;AAC5E;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,CAAC;AACD;AACA,+B;;;;;;;ACpNA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gC;;;;;;;ACzFA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oC;;;;;;;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oBAAoB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,mEAAmE;AAC9E,WAAW,mEAAmE;AAC9E,WAAW,mEAAmE;AAC9E,WAAW,mEAAmE;AAC9E,WAAW,mEAAmE;AAC9E,WAAW,mEAAmE;AAC9E,WAAW,mEAAmE;AAC9E,WAAW,mEAAmE;AAC9E,WAAW,mEAAmE;AAC9E,WAAW,mEAAmE;AAC9E,WAAW,mEAAmE;AAC9E,WAAW,mEAAmE;AAC9E,WAAW,mEAAmE;AAC9E,WAAW,mEAAmE;AAC9E;AACA;AACA,SAAS,oEAAoE;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,UAAU,oEAAoE;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,YAAY,qCAAqC,KAAK,qBAAqB;AAC3E,WAAW,qCAAqC,KAAK,qBAAqB;AAC1E;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,WAAW,sFAAsF;AACjG;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT,SAAS,kEAAkE;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA,WAAW,4DAA4D;AACvE,aAAa,iDAAiD;AAC9D,aAAa,iDAAiD;AAC9D,WAAW,iDAAiD;AAC5D,WAAW,iDAAiD;AAC5D;AACA,sBAAsB,mEAAmE;AACzF;AACA,YAAY,uEAAuE;AACnF;AACA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,gBAAgB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oBAAoB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;AC1sBA;AACA;AACA;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,iEAAiE,uBAAuB,EAAE,4BAA4B;AACrJ;AACA,KAAK;AACL;AACA;AACA,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA,mBAAmB,yCAAyC;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4FAA4F,kDAAkD,EAAE;AAChJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,gBAAgB;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,iBAAiB,EAAE;AACrD;AACA;AACA,CAAC;AACD;AACA,+B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtGA;IAKI,0BAAY,EAAU,EAAE,OAAe;QACnC,IAAM,IAAI,GAAG,QAAQ,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;QACzC,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;QAEtD,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,KAAK,QAAQ,CAAC,CAAC,CAAC;YAC7B,IAAI,CAAC,OAAO,GAAG,IAAyB,CAAC;QAC7C,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC3B,MAAM,IAAI,KAAK,CAAC,+BAA+B,CAAC,CAAC;QACrD,CAAC;QAED,IAAI,CAAC,WAAW,GAAG,IAAI,GAAG,EAAqB,CAAC;IACpD,CAAC;IAEM,+BAAI,GAAX,UAAY,QAAmB;QAC3B,IAAI,CAAC,aAAa,CAAC,SAAS;YACxB,oBAAkB,QAAQ,CAAC,WAAW,cAAS,QAAQ,CAAC,WAAW,UAAK,QAAQ,CAAC,IAAI,cAAW,CAAC;QACrG,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,QAAQ,CAAC,WAAW,CAAC;IAC9C,CAAC;IAEM,iCAAM,GAAb;QACI,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,KAAK,CAAC;IAClC,CAAC;IAEM,kCAAO,GAAd;QACI,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC;IACjC,CAAC;IAEY,uCAAY,GAAzB,UAA0B,IAAY;;;;;gBAClC,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;oBAC7B,MAAM,gBAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,EAAC;gBACtC,CAAC;gBAEK,GAAG,GAAG,IAAI,cAAc,EAAE,CAAC;gBACjC,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,iDAA+C,IAAM,EAAE,IAAI,CAAC,CAAC;gBAC7E,GAAG,CAAC,YAAY,GAAG,MAAM,CAAC;gBAE1B,sBAAO,IAAI,OAAO,CAAY,UAAC,OAAO,EAAE,MAAM;wBAC1C,GAAG,CAAC,MAAM,GAAG,UAAC,CAAM;4BAChB,IAAM,MAAM,GAAG;gCACX,IAAI,EAAE,GAAG,CAAC,QAAQ,CAAC,IAAI;gCACvB,WAAW,EAAE,GAAG,CAAC,QAAQ,CAAC,WAAW;6BACxC,CAAC;4BACF,KAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;4BAEnC,OAAO,CAAC,MAAM,CAAC,CAAC;wBACpB,CAAC,CAAC;wBACF,GAAG,CAAC,IAAI,EAAE,CAAC;oBACf,CAAC,CAAC,EAAC;;;KACN;IACL,uBAAC;AAAD,CAAC;AAvDY,4CAAgB;;;;;;;;;;ACL7B;IAGI,oBAAY,QAAgB;QACxB,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;IACpD,CAAC;IAEM,wBAAG,GAAV,UAAW,IAAY;QACnB,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,GAAG,IAAI,CAAC;IAClE,CAAC;IAEM,0BAAK,GAAZ;QACI,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,EAAE,CAAC;IAChC,CAAC;IACL,iBAAC;AAAD,CAAC","file":"dap.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 75ee39ddd4e400a69c6e","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar _this = this;\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.readUInt32LE = function (b, idx) {\r\n    return (b[idx] |\r\n        (b[idx + 1] << 8) |\r\n        (b[idx + 2] << 16) |\r\n        (b[idx + 3] << 24)) >>> 0;\r\n};\r\nexports.bufferConcat = function (bufs) {\r\n    var len = 0;\r\n    for (var _i = 0, bufs_1 = bufs; _i < bufs_1.length; _i++) {\r\n        var b = bufs_1[_i];\r\n        len += b.length;\r\n    }\r\n    var r = new Uint8Array(len);\r\n    len = 0;\r\n    for (var _a = 0, bufs_2 = bufs; _a < bufs_2.length; _a++) {\r\n        var b = bufs_2[_a];\r\n        r.set(b, len);\r\n        len += b.length;\r\n    }\r\n    return r;\r\n};\r\nexports.delay = function (t) { return __awaiter(_this, void 0, void 0, function () {\r\n    return __generator(this, function (_a) {\r\n        return [2 /*return*/, new Promise(function (resolve) {\r\n                setTimeout(resolve, t);\r\n            })];\r\n    });\r\n}); };\r\nexports.addInt32 = function (arr, val) {\r\n    if (!arr) {\r\n        arr = [];\r\n    }\r\n    arr.push(val & 0xff, (val >> 8) & 0xff, (val >> 16) & 0xff, (val >> 24) & 0xff);\r\n    return arr;\r\n};\r\nexports.hex = function (v) {\r\n    return \"0x\" + v.toString(16);\r\n};\r\nexports.rid = function (v) {\r\n    var m = [\r\n        \"DP_0x0\",\r\n        \"DP_0x4\",\r\n        \"DP_0x8\",\r\n        \"DP_0xC\",\r\n        \"AP_0x0\",\r\n        \"AP_0x4\",\r\n        \"AP_0x8\",\r\n        \"AP_0xC\",\r\n    ];\r\n    return m[v] || \"?\";\r\n};\r\nexports.bank = function (addr) {\r\n    var APBANKSEL = 0x000000f0;\r\n    return (addr & APBANKSEL) | (addr & 0xff000000);\r\n};\r\nexports.apReg = function (r, mode) {\r\n    var v = r | mode | 1 /* AP_ACC */;\r\n    return (4 + ((v & 0x0c) >> 2));\r\n};\r\nexports.bufToUint32Array = function (buf) {\r\n    exports.assert((buf.length & 3) === 0);\r\n    var r = [];\r\n    if (!buf.length) {\r\n        return r;\r\n    }\r\n    r[buf.length / 4 - 1] = 0;\r\n    for (var i = 0; i < r.length; ++i) {\r\n        r[i] = exports.readUInt32LE(buf, i << 2);\r\n    }\r\n    return r;\r\n};\r\nexports.assert = function (cond) {\r\n    if (!cond) {\r\n        throw new Error(\"assertion failed\");\r\n    }\r\n};\r\nexports.regRequest = function (regId, isWrite) {\r\n    if (isWrite === void 0) { isWrite = false; }\r\n    var request = !isWrite ? 2 /* READ */ : 0 /* WRITE */;\r\n    if (regId < 4) {\r\n        request |= 0 /* DP_ACC */;\r\n    }\r\n    else {\r\n        request |= 1 /* AP_ACC */;\r\n    }\r\n    request |= (regId & 3) << 2;\r\n    return request;\r\n};\r\nexports.hexBytes = function (bytes) {\r\n    var chk = 0;\r\n    var r = \":\";\r\n    bytes.forEach(function (b) { return chk += b; });\r\n    bytes.push((-chk) & 0xff);\r\n    bytes.forEach(function (b) { return r += (\"0\" + b.toString(16)).slice(-2); });\r\n    return r.toUpperCase();\r\n};\r\n//# sourceMappingURL=util.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../dapjs/built/util.js\n// module id = 0\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dapjs_1 = require(\"dapjs\");\nvar FlashTarget = (function (_super) {\n    __extends(FlashTarget, _super);\n    function FlashTarget() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return FlashTarget;\n}(dapjs_1.CortexM));\nexports.FlashTarget = FlashTarget;\n//# sourceMappingURL=FlashTarget.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/dapjs-targets/bin/FlashTarget.js\n// module id = 1\n// module chunks = 0","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar cortex_m_1 = require(\"./cortex_m\");\r\nexports.CortexM = cortex_m_1.CortexM;\r\nexports.CoreNames = cortex_m_1.CoreNames;\r\nexports.ISANames = cortex_m_1.ISANames;\r\nvar device_1 = require(\"./device\");\r\nexports.Device = device_1.Device;\r\n//# sourceMappingURL=main.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../dapjs/built/main.js\n// module id = 2\n// module chunks = 0","import {FlashTarget, MbedTarget, FlashAlgos} from \"dapjs-targets\";\r\nimport {Device, CoreNames, ISANames, CortexReg} from \"dapjs\";\r\nimport {assembleBlock} from \"thumb-assembler\";\r\nimport HID from \"webhid\";\r\n\r\nimport {PlatformSelector} from \"./device_selector\";\r\nimport HTMLLogger from \"./logger\";\r\n\r\nclass DAPTest {\r\n    public target: FlashTarget;\r\n    \r\n    private readonly selector: PlatformSelector;\r\n    private device: USBDevice;\r\n    private hid: HID;\r\n    private dapDevice: Device;\r\n    private deviceCode: string;\r\n\r\n    private readonly chooseButton: HTMLButtonElement;\r\n    private readonly connectButton: HTMLButtonElement;\r\n    private registerTestButton: HTMLButtonElement;\r\n    private memoryTestButton: HTMLButtonElement;\r\n    private codeTestButton: HTMLButtonElement;\r\n\r\n    private logger: HTMLLogger;\r\n\r\n    constructor(logger: HTMLLogger) {\r\n        this.selector = new PlatformSelector(\"platform-chooser\", \"platform-detected\");\r\n        \r\n        this.chooseButton = document.getElementById(\"choose\") as HTMLButtonElement;\r\n        this.connectButton = document.getElementById(\"connect\") as HTMLButtonElement;\r\n\r\n        this.chooseButton.onclick = this.choose;\r\n        this.connectButton.onclick = this.connect;\r\n\r\n        this.logger = logger;\r\n    }\r\n\r\n    /**\r\n     * Define `choose` as ES6 arrow function so that `this` is bound to the instance of DAPDemo, rather than bound to\r\n     * the source of the click event.\r\n     */\r\n    private choose = async () => {\r\n        this.device = await navigator.usb.requestDevice({ filters: [{vendorId: 0x0d28}]});\r\n        this.deviceCode = this.device.serialNumber.slice(0, 4);\r\n\r\n        const info = await this.selector.lookupDevice(this.deviceCode);\r\n\r\n        this.selector.show(info);\r\n        this.selector.enable();\r\n\r\n        this.chooseButton.disabled = true;\r\n        this.connectButton.disabled = false;\r\n    }\r\n\r\n    /**\r\n     * Define `connect` as ES6 arrow function so that `this` is bound to the instance of DAPDemo, rather than bound to\r\n     * the source of the click event.\r\n     */\r\n    private connect = async () => {\r\n        this.hid = new HID(this.device);\r\n\r\n        // open hid device\r\n        await this.hid.open();\r\n\r\n        this.dapDevice = new Device(this.hid);\r\n        this.target = new MbedTarget(this.dapDevice, FlashAlgos.get(this.deviceCode));\r\n\r\n        await this.target.init();\r\n        await this.target.halt();\r\n\r\n        const [imp, isa, type] = await this.target.readCoreType();\r\n        this.log(`Connected to an ARM ${CoreNames.get(type)} (${ISANames.get(isa)})`);\r\n\r\n        this.selector.disable();\r\n        this.connectButton.disabled = true;\r\n\r\n        const elements = Array.from(document.querySelectorAll(\".when-connected\"));\r\n\r\n        for (const elem of elements) {\r\n            (elem as HTMLButtonElement).disabled = false;\r\n        }\r\n\r\n        let tests = [\r\n            {\r\n                name: 'reg-test',\r\n                func: this.registerTest,\r\n            },\r\n            {\r\n                name: 'mem-test',\r\n                func: this.memoryTest,\r\n            },\r\n            {\r\n                name: 'code-test',\r\n                func: this.codeTest,\r\n            },\r\n            {\r\n                name: 'sw-bkpt-test',\r\n                func: this.swBreakpointTest,\r\n            },\r\n            {\r\n                name: 'hw-bkpt-test',\r\n                func: this.hwBreakpointTest,\r\n            },\r\n        ];\r\n\r\n        let pass = 0;\r\n        let fail = 0;\r\n        let skip = 0;\r\n        let error = 0;\r\n\r\n        for (const test of tests) {\r\n            if (this.deviceCode == '9900' && test.name == 'hw-bkpt-test') {\r\n                this.log('[skip] hw-bkpt-test is not applicable on the NRF51');\r\n                skip++;\r\n                continue;\r\n            }\r\n\r\n            try {\r\n                console.log(this.target);\r\n                const result = await test.func();\r\n\r\n                if (result) {\r\n                    this.log(`[pass] ${test.name}`);\r\n                    pass++;\r\n                } else {\r\n                    this.log(`[fail] ${test.name}`);\r\n                    fail++;\r\n                }\r\n            } catch (e) {\r\n                this.log(`[error] ${test.name}: ${e}`);\r\n                error++;\r\n                return;\r\n            }\r\n        }\r\n\r\n        this.log(`${pass} tests passed out of ${pass+fail}`);\r\n    }\r\n\r\n    private registerTest = async () => {\r\n        await this.target.halt();\r\n\r\n        for (let i = 0; i < 15; i++) {\r\n            await this.target.writeCoreRegister(i, i * 4);\r\n        }\r\n\r\n        for (let i = 0; i < 15; i++) {\r\n            const value = await this.target.readCoreRegister(i);\r\n\r\n            if (value !== i * 4) {\r\n                this.log(`Incorrect value read from register r${i}. ${value} read instead of ${i * 4}`);\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    private memoryTest = async () => {\r\n        await this.target.halt();\r\n\r\n        const data = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\r\n\r\n        await this.target.memory.writeBlock(0x20000000, data);\r\n        const read = await this.target.memory.readBlock(0x20000000, data.length, 0x400);\r\n        const read32 = new Uint32Array(read.buffer);\r\n\r\n        if (read32.length !== data.length) {\r\n            this.log(`Incorrect data read back. Should have had length ${data.length}, instead got ${read32.length}.`);\r\n            return false;\r\n        }\r\n\r\n        for (let i = 0; i < data.length; i++) {\r\n            if (read32[i] !== data[i]) {\r\n                this.log(`Incorrect data read back in position ${i}. Expected ${data[i]}, got ${read32[i]}`);\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    private codeTest = async () => {\r\n        const code = [\r\n            {\r\n                name: \"basic\",\r\n                code: [\r\n                    \"mov r0, #14\",\r\n                    \"bkpt #1\"\r\n                ],\r\n                sp: 0,\r\n                result: {\r\n                    r0: 14,\r\n                    r1: undefined\r\n                }\r\n            },\r\n            {\r\n                name: \"loop\",\r\n                code: [\r\n                    \"mov r0, #10\",\r\n                    \"mov r1, #0\",\r\n                    \"loop:\",\r\n                    \"   sub r0, #1\",\r\n                    \"   add r1, #2\",\r\n                    \"   cmp r0, #0\",\r\n                    \"   bne loop\",\r\n                    \"bkpt #1\"\r\n                ],\r\n                sp: 0,\r\n                result: {\r\n                    r0: 0,\r\n                    r1: 20\r\n                }\r\n            }\r\n        ];\r\n    \r\n        for (const c of code) {\r\n            // print an assembly listing\r\n            console.debug(`Running example: ${c.name}`);\r\n\r\n            for (const line of c.code) {\r\n                console.debug(line);\r\n            }\r\n            \r\n            const machine = assembleBlock(c.code);\r\n            console.debug(`Assembles to: ${machine}`);\r\n\r\n            // run!\r\n            const wordBuffer = new Uint32Array(machine.buffer);\r\n            const words = Array.from(wordBuffer);\r\n            const r0 = await this.target.runCode(words, 0x20000000, 0x20000000, 0, c.sp, true, 0, 0, 0);\r\n            const r1 = await this.target.readCoreRegister(CortexReg.R1);\r\n\r\n            // get the cause of the bkpt\r\n            const pc = await this.target.readCoreRegister(CortexReg.PC);\r\n            const reg = await this.target.memory.read32(pc);\r\n            console.log(`bkpt (at ${pc.toString(16)}) val: ${reg.toString(16)}??`);\r\n\r\n            if (r0 !== c.result.r0) {\r\n                this.log(`error running example ${c.name}. r0=${r0} returned, r0=${c.result.r0} expected.`);\r\n                return false;\r\n            } else if (!isNaN(c.result.r1) && r1 !== c.result.r1) {\r\n                this.log(`error running example ${c.name}. r1=${r1} returned, r1=${c.result.r1} expected.`);\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    private swBreakpointTest = async () => {\r\n        const code = [\r\n            'bkpt #1',\r\n            'bkpt #2',\r\n            'bkpt #3',\r\n            'bkpt #4',\r\n        ];\r\n\r\n        const machine = assembleBlock(code);\r\n        const wordBuffer = new Uint32Array(machine.buffer);\r\n        const words = Array.from(wordBuffer);\r\n        const r0 = await this.target.runCode(words, 0x20000000, 0x20000000, 0, 0, true, 0, 0, 0);\r\n        \r\n        // check each breakpoint\r\n        for (let i = 0; i < 4; i++) {\r\n            let pc = await this.target.readCoreRegister(CortexReg.PC);\r\n            let code = await this.target.memory.read32(pc);\r\n\r\n            let bkpt_no = code;\r\n            \r\n            if (pc % 4 == 2) {\r\n                bkpt_no >>= 16;\r\n            }\r\n\r\n            bkpt_no &= 0xff;\r\n\r\n            if (bkpt_no !== i + 1) {\r\n                this.log(`Incorrect bkpt number returned. (${bkpt_no}, expected ${i+1}`);\r\n                return false;\r\n            }\r\n\r\n            console.log(`[${pc.toString(16)}]: ${code.toString(16)}`);\r\n            await this.target.memory.write16(pc, /* nop */ 0x3801);\r\n\r\n            if (i < 3) {\r\n                await this.target.resume();\r\n                await this.target.waitForHalt();\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Note: THIS TEST DOES NOT WORK ON THE NRF51 - IT HAS NO RAM REGIONS < 0x20000000\r\n     */\r\n    private hwBreakpointTest = async () => {\r\n        const code = Array(100).fill(\"nop\");\r\n        code.push('bkpt #3');\r\n        const programAddress = 0x1fff0000;\r\n        const breakAddress = 0x1fff000c;\r\n        const machine = assembleBlock(code);\r\n        const machineArray = Array.from(new Uint32Array(machine.buffer));\r\n\r\n        await this.target.debug.setBreakpoint(breakAddress);\r\n        await this.target.runCode(machineArray, programAddress, programAddress, 0, 0, true);\r\n        await this.target.waitForHalt();\r\n\r\n        const pc = await this.target.readCoreRegister(CortexReg.PC);\r\n        \r\n        if (pc !== breakAddress) {\r\n            this.log(`Unexpected PC after breakpoint: ${pc.toString(16)}, when ${breakAddress.toString(16)} expected.`);\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    private log(s: string) {\r\n        this.logger.log(s);\r\n    }\r\n\r\n    private clearLog() {\r\n        this.logger.clear();\r\n    }\r\n}\r\n\r\nwindow.onload = () => {\r\n    const logger = new HTMLLogger('#trace');\r\n    const demo = new DAPTest(logger);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MbedTarget_1 = require(\"./MbedTarget\");\nexports.FlashAlgos = MbedTarget_1.FlashAlgos;\nexports.MbedTarget = MbedTarget_1.MbedTarget;\nvar FlashTarget_1 = require(\"./FlashTarget\");\nexports.FlashTarget = FlashTarget_1.FlashTarget;\n//# sourceMappingURL=main.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/dapjs-targets/bin/main.js\n// module id = 4\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar FlashTarget_1 = require(\"./FlashTarget\");\nvar K64F_1 = require(\"./K64F\");\nvar microbit_1 = require(\"./microbit\");\nvar MbedTarget = (function (_super) {\n    __extends(MbedTarget, _super);\n    function MbedTarget(device, flashAlgo) {\n        var _this = _super.call(this, device) || this;\n        _this.flashAlgo = flashAlgo;\n        return _this;\n    }\n    /**\n     * Initialise the flash driver on the chip. Must be called before any of the other\n     * flash-related methods.\n     *\n     * **TODO**: check that this has been called before calling other flash methods.\n     */\n    MbedTarget.prototype.flashInit = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var result;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.halt()];\n                    case 1:\n                        _a.sent();\n                        return [4 /*yield*/, this.writeCoreRegister(9 /* R9 */, this.flashAlgo.staticBase)];\n                    case 2:\n                        _a.sent();\n                        return [4 /*yield*/, this.runCode(this.flashAlgo.instructions, this.flashAlgo.loadAddress, this.flashAlgo.pcInit + this.flashAlgo.loadAddress + 0x20, this.flashAlgo.breakpointLocation, this.flashAlgo.stackPointer, true, 0, 0, 0)];\n                    case 3:\n                        result = _a.sent();\n                        // the board should be reset etc. afterwards\n                        // we should also probably run the flash unInit routine\n                        return [2 /*return*/, result];\n                }\n            });\n        });\n    };\n    /**\n     * Erase _all_ data stored in flash on the chip.\n     */\n    MbedTarget.prototype.eraseChip = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var result;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.halt()];\n                    case 1:\n                        _a.sent();\n                        return [4 /*yield*/, this.writeCoreRegister(9 /* R9 */, this.flashAlgo.staticBase)];\n                    case 2:\n                        _a.sent();\n                        return [4 /*yield*/, this.runCode(this.flashAlgo.instructions, this.flashAlgo.loadAddress, this.flashAlgo.pcEraseAll + this.flashAlgo.loadAddress + 0x20, this.flashAlgo.breakpointLocation, this.flashAlgo.stackPointer, false, 0, 0, 0)];\n                    case 3:\n                        result = _a.sent();\n                        return [2 /*return*/, result];\n                }\n            });\n        });\n    };\n    /**\n     * Upload a program to flash memory on the chip.\n     *\n     * @param data Array of 32-bit integers to write to flash.\n     */\n    MbedTarget.prototype.flash = function (data) {\n        return __awaiter(this, void 0, void 0, function () {\n            var ptr, writeLength, startAddress, bufferAddress, result;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.halt()];\n                    case 1:\n                        _a.sent();\n                        return [4 /*yield*/, this.writeCoreRegister(9 /* R9 */, this.flashAlgo.staticBase)];\n                    case 2:\n                        _a.sent();\n                        ptr = 0;\n                        _a.label = 3;\n                    case 3:\n                        if (!(ptr < data.length)) return [3 /*break*/, 7];\n                        writeLength = Math.min(data.length - ptr, this.flashAlgo.pageSize);\n                        startAddress = this.flashAlgo.flashStart + ptr;\n                        bufferAddress = this.flashAlgo.staticBase;\n                        console.log(\"Writing program to memory: \" + bufferAddress + \" \" + data.length);\n                        return [4 /*yield*/, this.memory.writeBlock(bufferAddress, data.slice(ptr, ptr + this.flashAlgo.pageSize))];\n                    case 4:\n                        _a.sent();\n                        console.log(\"Running flashing algorithm\");\n                        return [4 /*yield*/, this.runCode(this.flashAlgo.instructions, this.flashAlgo.loadAddress, this.flashAlgo.pcProgramPage + this.flashAlgo.loadAddress + 0x20, // pc\n                            this.flashAlgo.breakpointLocation, // lr\n                            this.flashAlgo.stackPointer, // sp\n                            /* upload? */\n                            ptr === 0, \n                            /* args */\n                            startAddress, writeLength, bufferAddress)];\n                    case 5:\n                        result = _a.sent();\n                        console.log(\"Flashed first block.\");\n                        _a.label = 6;\n                    case 6:\n                        ptr += this.flashAlgo.pageSize;\n                        return [3 /*break*/, 3];\n                    case 7: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    MbedTarget.prototype.resetStopOnReset = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var demcr;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        console.log(\"reset stop on Reset\");\n                        return [4 /*yield*/, this.halt()];\n                    case 1:\n                        _a.sent();\n                        return [4 /*yield*/, this.memory.read32(3758157308 /* DEMCR */)];\n                    case 2:\n                        demcr = _a.sent();\n                        return [4 /*yield*/, this.memory.write32(3758157308 /* DEMCR */, demcr | 1 /* DEMCR_VC_CORERESET */)];\n                    case 3:\n                        _a.sent();\n                        return [4 /*yield*/, this.reset()];\n                    case 4:\n                        _a.sent();\n                        return [4 /*yield*/, this.waitForHalt()];\n                    case 5:\n                        _a.sent();\n                        return [4 /*yield*/, this.memory.write32(3758157308 /* DEMCR */, demcr)];\n                    case 6:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return MbedTarget;\n}(FlashTarget_1.FlashTarget));\nexports.MbedTarget = MbedTarget;\nexports.FlashAlgos = new Map();\nexports.FlashAlgos.set('0240', K64F_1.K64F_FLASH_ALGO);\nexports.FlashAlgos.set('9900', microbit_1.MICROBIT_FLASH_ALGO);\n//# sourceMappingURL=MbedTarget.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/dapjs-targets/bin/MbedTarget.js\n// module id = 5\n// module chunks = 0","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar debug_1 = require(\"./debug\");\r\nvar memory_1 = require(\"./memory\");\r\nvar util_1 = require(\"./util\");\r\nexports.CPUID_IMPLEMENTER_MASK = 0xff000000;\r\nexports.CPUID_IMPLEMENTER_POS = 24;\r\nexports.CPUID_VARIANT_MASK = 0x00f00000;\r\nexports.CPUID_VARIANT_POS = 20;\r\nexports.CPUID_ARCHITECTURE_MASK = 0x000f0000;\r\nexports.CPUID_ARCHITECTURE_POS = 16;\r\nexports.CPUID_PARTNO_MASK = 0x0000fff0;\r\nexports.CPUID_PARTNO_POS = 4;\r\nexports.CPUID_REVISION_MASK = 0x0000000f;\r\nexports.CPUID_REVISION_POS = 0;\r\nexports.ISANames = new Map();\r\nexports.ISANames.set(12 /* ARMv6M */, \"ARMv6M\");\r\nexports.ISANames.set(15 /* ARMv7M */, \"ARMv7M\");\r\nexports.CoreNames = new Map();\r\nexports.CoreNames.set(3104 /* CortexM0 */, \"Cortex-M0\");\r\nexports.CoreNames.set(3105 /* CortexM1 */, \"Cortex-M1\");\r\nexports.CoreNames.set(3107 /* CortexM3 */, \"Cortex-M3\");\r\nexports.CoreNames.set(3108 /* CortexM4 */, \"Cortex-M4\");\r\nexports.CoreNames.set(3168 /* CortexM0p */, \"Cortex-M0+\");\r\n/**\r\n * Abstraction of an ARM Cortex M CPU from a programmer's perspective. Provides functionality\r\n * for setting breakpoints, reading general-purpose registers, reading from memory and stopping\r\n * and starting the CPU.\r\n */\r\nvar CortexM = (function () {\r\n    function CortexM(device) {\r\n        this.dev = device;\r\n        this.memory = new memory_1.Memory(device);\r\n        this.debug = new debug_1.Debug(this);\r\n    }\r\n    /**\r\n     * Initialise the debug access port on the device, and read the device type.\r\n     */\r\n    CortexM.prototype.init = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.dev.init()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.debug.setupFpb()];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.readCoreType()];\r\n                    case 3:\r\n                        _a.sent();\r\n                        console.debug(\"Initialized.\");\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Read the current state of the CPU.\r\n     *\r\n     * @returns A member of the `CoreState` enum corresponding to the current status of the CPU.\r\n     */\r\n    CortexM.prototype.getState = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var dhcsr, newDHCSR;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.memory.read32(3758157296 /* DHCSR */)];\r\n                    case 1:\r\n                        dhcsr = _a.sent();\r\n                        if (!(dhcsr & 33554432 /* S_RESET_ST */)) return [3 /*break*/, 3];\r\n                        return [4 /*yield*/, this.memory.read32(3758157296 /* DHCSR */)];\r\n                    case 2:\r\n                        newDHCSR = _a.sent();\r\n                        if (newDHCSR & 33554432 /* S_RESET_ST */ && !(newDHCSR & 16777216 /* S_RETIRE_ST */)) {\r\n                            return [2 /*return*/, 0 /* TARGET_RESET */];\r\n                        }\r\n                        _a.label = 3;\r\n                    case 3:\r\n                        if (dhcsr & 524288 /* S_LOCKUP */) {\r\n                            return [2 /*return*/, 1 /* TARGET_LOCKUP */];\r\n                        }\r\n                        else if (dhcsr & 262144 /* S_SLEEP */) {\r\n                            return [2 /*return*/, 2 /* TARGET_SLEEPING */];\r\n                        }\r\n                        else if (dhcsr & 131072 /* S_HALT */) {\r\n                            return [2 /*return*/, 3 /* TARGET_HALTED */];\r\n                        }\r\n                        else {\r\n                            return [2 /*return*/, 4 /* TARGET_RUNNING */];\r\n                        }\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Read the CPUID register from the CPU, and interpret its meaning in terms of implementer,\r\n     * architecture and core type.\r\n     */\r\n    CortexM.prototype.readCoreType = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var cpuid, implementer, arch, coreType;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.memory.read32(3758157056 /* CPUID */)];\r\n                    case 1:\r\n                        cpuid = _a.sent();\r\n                        implementer = ((cpuid & exports.CPUID_IMPLEMENTER_MASK) >> exports.CPUID_IMPLEMENTER_POS);\r\n                        arch = ((cpuid & exports.CPUID_ARCHITECTURE_MASK) >> exports.CPUID_ARCHITECTURE_POS);\r\n                        coreType = ((cpuid & exports.CPUID_PARTNO_MASK) >> exports.CPUID_PARTNO_POS);\r\n                        console.debug(\"Found an ARM \" + exports.CoreNames.get(coreType));\r\n                        return [2 /*return*/, [implementer, arch, coreType]];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Read a core register from the CPU (e.g. r0...r15, pc, sp, lr, s0...)\r\n     *\r\n     * @param no Member of the `CortexReg` enum - an ARM Cortex CPU general-purpose register.\r\n     */\r\n    CortexM.prototype.readCoreRegister = function (no) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var v;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.memory.write32(3758157300 /* DCRSR */, no)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.memory.read32(3758157296 /* DHCSR */)];\r\n                    case 2:\r\n                        v = _a.sent();\r\n                        util_1.assert(v & 65536 /* S_REGRDY */);\r\n                        return [4 /*yield*/, this.memory.read32(3758157304 /* DCRDR */)];\r\n                    case 3: return [2 /*return*/, _a.sent()];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Write a 32-bit word to the specified CPU general-purpose register.\r\n     *\r\n     * @param no Member of the `CortexReg` enum - an ARM Cortex CPU general-purpose register.\r\n     * @param val Value to be written.\r\n     */\r\n    CortexM.prototype.writeCoreRegister = function (no, val) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var v;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.memory.write32(3758157304 /* DCRDR */, val)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.memory.write32(3758157300 /* DCRSR */, no | 65536 /* DCRSR_REGWnR */)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.memory.read32(3758157296 /* DHCSR */)];\r\n                    case 3:\r\n                        v = _a.sent();\r\n                        util_1.assert(v & 65536 /* S_REGRDY */);\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Halt the CPU core.\r\n     */\r\n    CortexM.prototype.halt = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                return [2 /*return*/, this.memory.write32(3758157296 /* DHCSR */, -1604386816 /* DBGKEY */ | 1 /* C_DEBUGEN */ | 2 /* C_HALT */)];\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Resume the CPU core.\r\n     */\r\n    CortexM.prototype.resume = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.isHalted()];\r\n                    case 1:\r\n                        if (!_a.sent()) return [3 /*break*/, 4];\r\n                        return [4 /*yield*/, this.memory.write32(3758157104 /* DFSR */, 4 /* DFSR_DWTTRAP */ | 2 /* DFSR_BKPT */ | 1 /* DFSR_HALTED */)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.debug.enable()];\r\n                    case 3:\r\n                        _a.sent();\r\n                        _a.label = 4;\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Find out whether the CPU is halted.\r\n     */\r\n    CortexM.prototype.isHalted = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var s;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.status()];\r\n                    case 1:\r\n                        s = _a.sent();\r\n                        return [2 /*return*/, s.isHalted];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Read the current status of the CPU.\r\n     *\r\n     * @returns Object containing the contents of the `DHCSR` register, the `DFSR` register, and a boolean value\r\n     * stating the current halted state of the CPU.\r\n     */\r\n    CortexM.prototype.status = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var dhcsr, dfsr;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.memory.read32(3758157296 /* DHCSR */)];\r\n                    case 1:\r\n                        dhcsr = _a.sent();\r\n                        return [4 /*yield*/, this.memory.read32(3758157104 /* DFSR */)];\r\n                    case 2:\r\n                        dfsr = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                dfsr: dfsr,\r\n                                dhscr: dhcsr,\r\n                                isHalted: !!(dhcsr & 131072 /* S_HALT */),\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Reset the CPU core. This currently does a software reset - it is also technically possible to perform a 'hard'\r\n     * reset using the reset pin from the debugger.\r\n     */\r\n    CortexM.prototype.reset = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var dhcsr;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.memory.write32(3758157068 /* NVIC_AIRCR */, 100270080 /* NVIC_AIRCR_VECTKEY */ | 4 /* NVIC_AIRCR_SYSRESETREQ */)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.memory.read32(3758157296 /* DHCSR */)];\r\n                    case 2:\r\n                        dhcsr = _a.sent();\r\n                        _a.label = 3;\r\n                    case 3:\r\n                        if (!((dhcsr & 33554432 /* S_RESET_ST */) !== 0)) return [3 /*break*/, 5];\r\n                        return [4 /*yield*/, this.memory.read32(3758157296 /* DHCSR */)];\r\n                    case 4:\r\n                        dhcsr = _a.sent();\r\n                        return [3 /*break*/, 3];\r\n                    case 5: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Run specified machine code natively on the device. Assumes usual C calling conventions\r\n     * - returns the value of r0 once the program has terminated. The program _must_ terminate\r\n     * in order for this function to return. This can be achieved by placing a `bkpt`\r\n     * instruction at the end of the function.\r\n     *\r\n     * **FIXME**: currently causes a hard fault when the core is resumed after successfully uploading\r\n     * the blob to memory and setting core registers.\r\n     *\r\n     * @param code array containing the machine code (32-bit words).\r\n     * @param address memory address at which to place the code.\r\n     * @param pc initial value of the program counter.\r\n     * @param lr initial value of the link register.\r\n     * @param sp initial value of the stack pointer.\r\n     * @param upload should we upload the code before running it.\r\n     * @param args set registers r0...rn before running code\r\n     *\r\n     * @returns A promise for the value of r0 on completion of the function call.\r\n     */\r\n    CortexM.prototype.runCode = function (code, address, pc, lr, sp, upload) {\r\n        var args = [];\r\n        for (var _i = 6; _i < arguments.length; _i++) {\r\n            args[_i - 6] = arguments[_i];\r\n        }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var i;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: \r\n                    // Halt the core\r\n                    return [4 /*yield*/, this.halt()];\r\n                    case 1:\r\n                        // Halt the core\r\n                        _a.sent();\r\n                        // Point the program counter to the start of the program\r\n                        return [4 /*yield*/, this.writeCoreRegister(15 /* PC */, pc)];\r\n                    case 2:\r\n                        // Point the program counter to the start of the program\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.writeCoreRegister(14 /* LR */, lr)];\r\n                    case 3:\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.writeCoreRegister(13 /* SP */, sp)];\r\n                    case 4:\r\n                        _a.sent();\r\n                        i = 0;\r\n                        _a.label = 5;\r\n                    case 5:\r\n                        if (!(i < args.length)) return [3 /*break*/, 8];\r\n                        return [4 /*yield*/, this.writeCoreRegister(i, args[i])];\r\n                    case 6:\r\n                        _a.sent();\r\n                        _a.label = 7;\r\n                    case 7:\r\n                        i++;\r\n                        return [3 /*break*/, 5];\r\n                    case 8:\r\n                        if (!upload) return [3 /*break*/, 10];\r\n                        return [4 /*yield*/, this.memory.writeBlock(address, code)];\r\n                    case 9:\r\n                        _a.sent();\r\n                        _a.label = 10;\r\n                    case 10: \r\n                    // Run the program\r\n                    return [4 /*yield*/, this.resume()];\r\n                    case 11:\r\n                        // Run the program\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.waitForHalt()];\r\n                    case 12:\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.readCoreRegister(0 /* R0 */)];\r\n                    case 13: return [2 /*return*/, _a.sent()];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Spin until the chip has halted.\r\n     */\r\n    CortexM.prototype.waitForHalt = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.isHalted()];\r\n                    case 1:\r\n                        if (!!(_a.sent())) return [3 /*break*/, 2];\r\n                        return [3 /*break*/, 0];\r\n                    case 2: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return CortexM;\r\n}());\r\nexports.CortexM = CortexM;\r\n//# sourceMappingURL=cortex_m.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../dapjs/built/cortex_m.js\n// module id = 6\n// module chunks = 0","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar breakpoint_1 = require(\"./breakpoint\");\r\nvar Debug = (function () {\r\n    function Debug(core) {\r\n        this.core = core;\r\n        this.enabled = false;\r\n        this.availableHWBreakpoints = [];\r\n        this.breakpoints = new Map();\r\n    }\r\n    /**\r\n     * Set up (and disable) the Flash Patch & Breakpoint unit. It will be enabled when\r\n     * the first breakpoint is set.\r\n     *\r\n     * Also reads the number of available hardware breakpoints.\r\n     */\r\n    Debug.prototype.setupFpb = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var fpcr, nbCode, nbLit, i;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.core.memory.read32(3758104576 /* FP_CTRL */)];\r\n                    case 1:\r\n                        fpcr = _a.sent();\r\n                        nbCode = ((fpcr >> 8) & 0x70) | ((fpcr >> 4) & 0xf);\r\n                        nbLit = (fpcr >> 7) & 0xf;\r\n                        this.totalHWBreakpoints = nbCode;\r\n                        console.debug(nbCode + \" hardware breakpoints, \" + nbLit + \" literal comparators\");\r\n                        return [4 /*yield*/, this.setFpbEnabled(false)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        for (i = 0; i < nbCode; i++) {\r\n                            this.availableHWBreakpoints.push(3758104584 /* FP_COMP0 */ + (4 * i));\r\n                            this.core.memory.write32(3758104584 /* FP_COMP0 */ + (i * 4), 0);\r\n                        }\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Enable or disable the Flash Patch and Breakpoint unit (FPB).\r\n     *\r\n     * @param enabled\r\n     */\r\n    Debug.prototype.setFpbEnabled = function (enabled) {\r\n        if (enabled === void 0) { enabled = true; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.enabled = enabled;\r\n                        return [4 /*yield*/, this.core.memory.write32(3758104576 /* FP_CTRL */, 2 /* FP_CTRL_KEY */ | (enabled ? 1 : 0))];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Enable debugging on the target CPU\r\n     */\r\n    Debug.prototype.enable = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.core.memory.write32(3758157296 /* DHCSR */, -1604386816 /* DBGKEY */ | 1 /* C_DEBUGEN */)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Set breakpoints at specified memory addresses.\r\n     *\r\n     * @param addrs An array of memory addresses at which to set breakpoints.\r\n     */\r\n    Debug.prototype.setBreakpoint = function (addr) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var breakpoint, bkpt, regAddr;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (this.breakpoints.has(addr)) {\r\n                            breakpoint = this.breakpoints.get(addr);\r\n                            if (typeof breakpoint !== \"number\") {\r\n                                // already enabled\r\n                                console.warn(\"Breakpoint at \" + addr.toString(16) + \" already enabled.\");\r\n                                return [2 /*return*/];\r\n                            }\r\n                        }\r\n                        if (!(addr < 0x20000000)) return [3 /*break*/, 5];\r\n                        if (!(this.availableHWBreakpoints.length > 0)) return [3 /*break*/, 3];\r\n                        if (!!this.enabled) return [3 /*break*/, 2];\r\n                        console.log(\"enabling fpb\");\r\n                        return [4 /*yield*/, this.setFpbEnabled(true)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        regAddr = this.availableHWBreakpoints.pop();\r\n                        console.log(\"using regAddr=\" + regAddr.toString(16));\r\n                        bkpt = new breakpoint_1.HWBreakpoint(regAddr, this.core, addr);\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        bkpt = new breakpoint_1.SWBreakpoint(this.core, addr);\r\n                        _a.label = 4;\r\n                    case 4: return [3 /*break*/, 6];\r\n                    case 5:\r\n                        bkpt = new breakpoint_1.SWBreakpoint(this.core, addr);\r\n                        _a.label = 6;\r\n                    case 6: return [4 /*yield*/, bkpt.set()];\r\n                    case 7:\r\n                        _a.sent();\r\n                        this.breakpoints.set(addr, bkpt);\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Debug.prototype.deleteBreakpoint = function (addr) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var bkpt;\r\n            return __generator(this, function (_a) {\r\n                if (this.breakpoints.has(addr)) {\r\n                    bkpt = this.breakpoints.get(addr);\r\n                    if (typeof bkpt !== \"number\") {\r\n                        bkpt.clear();\r\n                        if (bkpt instanceof breakpoint_1.HWBreakpoint) {\r\n                            // return the register address to the pool\r\n                            this.availableHWBreakpoints.push(bkpt.regAddr);\r\n                        }\r\n                    }\r\n                    this.breakpoints.delete(addr);\r\n                }\r\n                else {\r\n                    console.warn(\"Breakpoint at \" + addr.toString(16) + \" does not exist.\");\r\n                }\r\n                return [2 /*return*/];\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Step the processor forward by one instruction.\r\n     */\r\n    Debug.prototype.step = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var dhcsr, interruptsMasked;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.core.memory.read32(3758157296 /* DHCSR */)];\r\n                    case 1:\r\n                        dhcsr = _a.sent();\r\n                        if (!(dhcsr & (4 /* C_STEP */ | 2 /* C_HALT */))) {\r\n                            console.error(\"Target is not halted.\");\r\n                            return [2 /*return*/];\r\n                        }\r\n                        interruptsMasked = (8 /* C_MASKINTS */ & dhcsr) !== 0;\r\n                        if (!!interruptsMasked) return [3 /*break*/, 3];\r\n                        return [4 /*yield*/, this.core.memory.write32(3758157296 /* DHCSR */, -1604386816 /* DBGKEY */ |\r\n                                1 /* C_DEBUGEN */ |\r\n                                2 /* C_HALT */ |\r\n                                8 /* C_MASKINTS */)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        _a.label = 3;\r\n                    case 3: return [4 /*yield*/, this.core.memory.write32(3758157296 /* DHCSR */, -1604386816 /* DBGKEY */ |\r\n                            1 /* C_DEBUGEN */ |\r\n                            8 /* C_MASKINTS */ |\r\n                            4 /* C_STEP */)];\r\n                    case 4:\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.core.waitForHalt()];\r\n                    case 5:\r\n                        _a.sent();\r\n                        this.core.memory.write32(3758157296 /* DHCSR */, -1604386816 /* DBGKEY */ |\r\n                            1 /* C_DEBUGEN */ |\r\n                            2 /* C_HALT */);\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return Debug;\r\n}());\r\nexports.Debug = Debug;\r\n//# sourceMappingURL=debug.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../dapjs/built/debug.js\n// module id = 7\n// module chunks = 0","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar HWBreakpoint = (function () {\r\n    function HWBreakpoint(regAddr, parent, addr) {\r\n        this.regAddr = regAddr;\r\n        this.parent = parent;\r\n        this.addr = addr;\r\n    }\r\n    HWBreakpoint.prototype.set = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var bpMatch;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        bpMatch = ((this.addr & 0x2) ? 2 : 1) << 30;\r\n                        return [4 /*yield*/, this.parent.memory.write32(this.regAddr, this.addr & 0x1ffffffc | bpMatch | 1)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    HWBreakpoint.prototype.clear = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: \r\n                    /* clear hardware breakpoint */\r\n                    return [4 /*yield*/, this.parent.memory.write32(this.regAddr, 0)];\r\n                    case 1:\r\n                        /* clear hardware breakpoint */\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return HWBreakpoint;\r\n}());\r\nexports.HWBreakpoint = HWBreakpoint;\r\nvar SWBreakpoint = (function () {\r\n    function SWBreakpoint(parent, addr) {\r\n        this.parent = parent;\r\n        this.addr = addr;\r\n        this.enabled = false;\r\n    }\r\n    SWBreakpoint.prototype.set = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        // read the instruction from the CPU... pleeeeease be in thumb mode\r\n                        _a = this;\r\n                        return [4 /*yield*/, this.parent.memory.read16(this.addr)];\r\n                    case 1:\r\n                        // read the instruction from the CPU... pleeeeease be in thumb mode\r\n                        _a.instruction = _b.sent();\r\n                        return [4 /*yield*/, this.parent.memory.write16(this.addr, SWBreakpoint.BKPT_INSTRUCTION)];\r\n                    case 2:\r\n                        _b.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    SWBreakpoint.prototype.clear = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: \r\n                    /* clear hardware breakpoint */\r\n                    return [4 /*yield*/, this.parent.memory.write16(this.addr, this.instruction)];\r\n                    case 1:\r\n                        /* clear hardware breakpoint */\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    SWBreakpoint.BKPT_INSTRUCTION = 0xbe00;\r\n    return SWBreakpoint;\r\n}());\r\nexports.SWBreakpoint = SWBreakpoint;\r\n//# sourceMappingURL=breakpoint.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../dapjs/built/breakpoint.js\n// module id = 8\n// module chunks = 0","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar util_1 = require(\"./util\");\r\nvar Memory = (function () {\r\n    function Memory(dev) {\r\n        this.dev = dev;\r\n    }\r\n    /**\r\n     * Write a 32-bit word to the specified (word-aligned) memory address.\r\n     *\r\n     * @param addr Memory address to write to\r\n     * @param data Data to write (values above 2**32 will be truncated)\r\n     */\r\n    Memory.prototype.write32 = function (addr, data) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.dev.writeAp(0 /* CSW */, 587202640 /* CSW_VALUE */ | 2 /* CSW_SIZE32 */)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.dev.writeAp(4 /* TAR */, addr)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.dev.writeAp(12 /* DRW */, data)];\r\n                    case 3:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Write a 16-bit word to the specified (half word-aligned) memory address.\r\n     *\r\n     * @param addr Memory address to write to\r\n     * @param data Data to write (values above 2**16 will be truncated)\r\n     */\r\n    Memory.prototype.write16 = function (addr, data) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.dev.writeAp(0 /* CSW */, 587202640 /* CSW_VALUE */ | 1 /* CSW_SIZE16 */)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        data = data << ((addr & 0x02) << 3);\r\n                        return [4 /*yield*/, this.dev.writeAp(4 /* TAR */, addr)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.dev.writeAp(12 /* DRW */, data)];\r\n                    case 3:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Read a 32-bit word from the specified (word-aligned) memory address.\r\n     *\r\n     * @param addr Memory address to read from.\r\n     */\r\n    Memory.prototype.read32 = function (addr) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var e_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.dev.writeAp(0 /* CSW */, 587202640 /* CSW_VALUE */ | 2 /* CSW_SIZE32 */)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.dev.writeAp(4 /* TAR */, addr)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        _a.label = 3;\r\n                    case 3:\r\n                        _a.trys.push([3, 5, , 8]);\r\n                        return [4 /*yield*/, this.dev.readAp(12 /* DRW */)];\r\n                    case 4: return [2 /*return*/, _a.sent()];\r\n                    case 5:\r\n                        e_1 = _a.sent();\r\n                        // transfer wait, try again.\r\n                        return [4 /*yield*/, util_1.delay(100)];\r\n                    case 6:\r\n                        // transfer wait, try again.\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.read32(addr)];\r\n                    case 7: return [2 /*return*/, _a.sent()];\r\n                    case 8: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Read a 16-bit word from the specified (half word-aligned) memory address.\r\n     *\r\n     * @param addr Memory address to read from.\r\n     */\r\n    Memory.prototype.read16 = function (addr) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var e_2;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.dev.writeAp(0 /* CSW */, 587202640 /* CSW_VALUE */ | 1 /* CSW_SIZE16 */)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.dev.writeAp(4 /* TAR */, addr)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        _a.label = 3;\r\n                    case 3:\r\n                        _a.trys.push([3, 5, , 8]);\r\n                        return [4 /*yield*/, this.dev.readAp(12 /* DRW */)];\r\n                    case 4: return [2 /*return*/, _a.sent()];\r\n                    case 5:\r\n                        e_2 = _a.sent();\r\n                        // transfer wait, try again.\r\n                        return [4 /*yield*/, util_1.delay(100)];\r\n                    case 6:\r\n                        // transfer wait, try again.\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.read32(addr)];\r\n                    case 7: return [2 /*return*/, _a.sent()];\r\n                    case 8: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Reads a block of memory from the specified memory address.\r\n     *\r\n     * @param addr Address to read from\r\n     * @param words Number of words to read\r\n     * @param pageSize Memory page size\r\n     */\r\n    Memory.prototype.readBlock = function (addr, words, pageSize) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _this = this;\r\n            var funs, bufs, end, ptr, _loop_1, _i, funs_1, f, result;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        funs = [function () { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_a) {\r\n                                return [2 /*return*/, Promise.resolve()];\r\n                            }); }); }];\r\n                        bufs = [];\r\n                        end = addr + words * 4;\r\n                        ptr = addr;\r\n                        _loop_1 = function () {\r\n                            var nextptr = ptr + pageSize;\r\n                            if (ptr === addr) {\r\n                                nextptr &= ~(pageSize - 1);\r\n                            }\r\n                            var len = Math.min(nextptr - ptr, end - ptr);\r\n                            var ptr0 = ptr;\r\n                            util_1.assert((len & 3) === 0);\r\n                            funs.push(function () { return __awaiter(_this, void 0, void 0, function () {\r\n                                var _a, _b;\r\n                                return __generator(this, function (_c) {\r\n                                    switch (_c.label) {\r\n                                        case 0:\r\n                                            _b = (_a = bufs).push;\r\n                                            return [4 /*yield*/, this.readBlockCore(ptr0, len >> 2)];\r\n                                        case 1:\r\n                                            _b.apply(_a, [_c.sent()]);\r\n                                            return [2 /*return*/];\r\n                                    }\r\n                                });\r\n                            }); });\r\n                            ptr = nextptr;\r\n                        };\r\n                        while (ptr < end) {\r\n                            _loop_1();\r\n                        }\r\n                        _i = 0, funs_1 = funs;\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        if (!(_i < funs_1.length)) return [3 /*break*/, 4];\r\n                        f = funs_1[_i];\r\n                        return [4 /*yield*/, f()];\r\n                    case 2:\r\n                        _a.sent();\r\n                        _a.label = 3;\r\n                    case 3:\r\n                        _i++;\r\n                        return [3 /*break*/, 1];\r\n                    case 4: return [4 /*yield*/, util_1.bufferConcat(bufs)];\r\n                    case 5:\r\n                        result = _a.sent();\r\n                        return [2 /*return*/, result.slice(0, words * 4)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Write a block of memory to the specified memory address.\r\n     *\r\n     * @param addr Memory address to write to.\r\n     * @param words Array of 32-bit words to write to memory.\r\n     */\r\n    Memory.prototype.writeBlock = function (addr, words) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var blSz, i;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (words.length === 0) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        console.debug(\"write block: 0x\" + addr.toString(16) + \" \" + words.length + \" len\");\r\n                        if (!(1 > 0)) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, this.writeBlockCore(addr, words)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        console.debug(\"written\");\r\n                        return [2 /*return*/];\r\n                    case 2:\r\n                        blSz = 10;\r\n                        i = 0;\r\n                        _a.label = 3;\r\n                    case 3:\r\n                        if (!(i < Math.ceil(words.length / blSz))) return [3 /*break*/, 6];\r\n                        return [4 /*yield*/, this.writeBlockCore(addr + i * blSz * 4, words.slice(i * blSz, i * blSz + blSz))];\r\n                    case 4:\r\n                        _a.sent();\r\n                        _a.label = 5;\r\n                    case 5:\r\n                        i++;\r\n                        return [3 /*break*/, 3];\r\n                    case 6:\r\n                        console.debug(\"written\");\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Memory.prototype.readBlockCore = function (addr, words) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var lastSize, blocks, i, b;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.dev.writeAp(0 /* CSW */, 587202640 /* CSW_VALUE */ | 2 /* CSW_SIZE32 */)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.dev.writeAp(4 /* TAR */, addr)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        lastSize = words % 15;\r\n                        if (lastSize === 0) {\r\n                            lastSize = 15;\r\n                        }\r\n                        blocks = [];\r\n                        i = 0;\r\n                        _a.label = 3;\r\n                    case 3:\r\n                        if (!(i < Math.ceil(words / 15))) return [3 /*break*/, 6];\r\n                        return [4 /*yield*/, this.dev.readRegRepeat(util_1.apReg(12 /* DRW */, 2 /* READ */), i === blocks.length - 1 ? lastSize : 15)];\r\n                    case 4:\r\n                        b = _a.sent();\r\n                        blocks.push(b);\r\n                        _a.label = 5;\r\n                    case 5:\r\n                        i++;\r\n                        return [3 /*break*/, 3];\r\n                    case 6: return [2 /*return*/, util_1.bufferConcat(blocks)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Memory.prototype.writeBlockCore = function (addr, words) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var blSz, reg, i, e_3;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 7, , 12]);\r\n                        return [4 /*yield*/, this.dev.writeAp(0 /* CSW */, 587202640 /* CSW_VALUE */ | 2 /* CSW_SIZE32 */)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.dev.writeAp(4 /* TAR */, addr)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        blSz = 12;\r\n                        reg = util_1.apReg(12 /* DRW */, 0 /* WRITE */);\r\n                        i = 0;\r\n                        _a.label = 3;\r\n                    case 3:\r\n                        if (!(i < Math.ceil(words.length / blSz))) return [3 /*break*/, 6];\r\n                        return [4 /*yield*/, this.dev.writeRegRepeat(reg, words.slice(i * blSz, i * blSz + blSz))];\r\n                    case 4:\r\n                        _a.sent();\r\n                        _a.label = 5;\r\n                    case 5:\r\n                        i++;\r\n                        return [3 /*break*/, 3];\r\n                    case 6: return [3 /*break*/, 12];\r\n                    case 7:\r\n                        e_3 = _a.sent();\r\n                        if (!e_3.dapWait) return [3 /*break*/, 10];\r\n                        console.debug(\"transfer wait, write block\");\r\n                        return [4 /*yield*/, util_1.delay(100)];\r\n                    case 8:\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.writeBlockCore(addr, words)];\r\n                    case 9: return [2 /*return*/, _a.sent()];\r\n                    case 10: throw e_3;\r\n                    case 11: return [3 /*break*/, 12];\r\n                    case 12: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return Memory;\r\n}());\r\nexports.Memory = Memory;\r\n//# sourceMappingURL=memory.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../dapjs/built/memory.js\n// module id = 9\n// module chunks = 0","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar dap_1 = require(\"./dap\");\r\nvar util_1 = require(\"./util\");\r\nvar Device = (function () {\r\n    function Device(device) {\r\n        this.device = device;\r\n        this.dap = new dap_1.Dap(device);\r\n    }\r\n    Device.prototype.reconnect = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.dap.disconnect()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4 /*yield*/, util_1.delay(100)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.init()];\r\n                    case 3:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Device.prototype.init = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var n, m, v;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.dap.connect()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.readDp(0 /* IDCODE */)];\r\n                    case 2:\r\n                        n = _a.sent();\r\n                        this.idcode = n;\r\n                        return [4 /*yield*/, this.writeReg(0 /* DP_0x0 */, 1 << 2)];\r\n                    case 3:\r\n                        _a.sent(); // clear sticky error\r\n                        return [4 /*yield*/, this.writeDp(2 /* SELECT */, 0)];\r\n                    case 4:\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.writeDp(1 /* CTRL_STAT */, 1073741824 /* CSYSPWRUPREQ */ | 268435456 /* CDBGPWRUPREQ */)];\r\n                    case 5:\r\n                        _a.sent();\r\n                        m = 536870912 /* CDBGPWRUPACK */ | 2147483648 /* CSYSPWRUPACK */;\r\n                        return [4 /*yield*/, this.readDp(1 /* CTRL_STAT */)];\r\n                    case 6:\r\n                        v = _a.sent();\r\n                        _a.label = 7;\r\n                    case 7:\r\n                        if (!((v & m) !== m)) return [3 /*break*/, 9];\r\n                        return [4 /*yield*/, this.readDp(1 /* CTRL_STAT */)];\r\n                    case 8:\r\n                        v = _a.sent();\r\n                        return [3 /*break*/, 7];\r\n                    case 9: return [4 /*yield*/, this.writeDp(1 /* CTRL_STAT */, (1073741824 /* CSYSPWRUPREQ */ |\r\n                            268435456 /* CDBGPWRUPREQ */ |\r\n                            0 /* TRNNORMAL */ |\r\n                            3840 /* MASKLANE */))];\r\n                    case 10:\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.writeDp(2 /* SELECT */, 0)];\r\n                    case 11:\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.readAp(252 /* IDR */)];\r\n                    case 12:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Device.prototype.writeReg = function (regId, val) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                return [2 /*return*/, this.regOp(regId, val)];\r\n            });\r\n        });\r\n    };\r\n    Device.prototype.readReg = function (regId) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var buf, v;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.regOp(regId, null)];\r\n                    case 1:\r\n                        buf = _a.sent();\r\n                        v = util_1.readUInt32LE(buf, 3);\r\n                        return [2 /*return*/, v];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Device.prototype.readDp = function (addr) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                return [2 /*return*/, this.readReg(addr)];\r\n            });\r\n        });\r\n    };\r\n    Device.prototype.readAp = function (addr) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.writeDp(2 /* SELECT */, util_1.bank(addr))];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.readReg(util_1.apReg(addr, 2 /* READ */))];\r\n                    case 2: return [2 /*return*/, _a.sent()];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Device.prototype.writeDp = function (addr, data) {\r\n        if (addr === 2 /* SELECT */) {\r\n            if (data === this.dpSelect) {\r\n                return Promise.resolve();\r\n            }\r\n            this.dpSelect = data;\r\n        }\r\n        return this.writeReg(addr, data);\r\n    };\r\n    Device.prototype.writeAp = function (addr, data) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.writeDp(2 /* SELECT */, util_1.bank(addr))];\r\n                    case 1:\r\n                        _a.sent();\r\n                        if (addr === 0 /* CSW */) {\r\n                            if (data === this.csw) {\r\n                                return [2 /*return*/, Promise.resolve()];\r\n                            }\r\n                            this.csw = data;\r\n                        }\r\n                        return [4 /*yield*/, this.writeReg(util_1.apReg(addr, 0 /* WRITE */), data)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Device.prototype.close = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                return [2 /*return*/, this.device.close()];\r\n            });\r\n        });\r\n    };\r\n    Device.prototype.readRegRepeat = function (regId, cnt) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var request, sendargs, i, buf;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        util_1.assert(cnt <= 15);\r\n                        request = util_1.regRequest(regId);\r\n                        sendargs = [0, cnt];\r\n                        for (i = 0; i < cnt; ++i) {\r\n                            sendargs.push(request);\r\n                        }\r\n                        return [4 /*yield*/, this.dap.cmdNums(5 /* DAP_TRANSFER */, sendargs)];\r\n                    case 1:\r\n                        buf = _a.sent();\r\n                        if (buf[1] !== cnt) {\r\n                            throw new Error((\"(many) Bad #trans \" + buf[1]));\r\n                        }\r\n                        else if (buf[2] !== 1) {\r\n                            throw new Error((\"(many) Bad transfer status \" + buf[2]));\r\n                        }\r\n                        return [2 /*return*/, buf.slice(3, 3 + cnt * 4)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Device.prototype.writeRegRepeat = function (regId, data) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var request, sendargs, _i, data_1, d, buf;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        util_1.assert(data.length <= 15);\r\n                        request = util_1.regRequest(regId, true);\r\n                        sendargs = [0, data.length];\r\n                        for (_i = 0, data_1 = data; _i < data_1.length; _i++) {\r\n                            d = data_1[_i];\r\n                            sendargs.push(request);\r\n                            util_1.addInt32(sendargs, d);\r\n                        }\r\n                        return [4 /*yield*/, this.dap.cmdNums(5 /* DAP_TRANSFER */, sendargs)];\r\n                    case 1:\r\n                        buf = _a.sent();\r\n                        if (buf[2] !== 1) {\r\n                            throw new Error((\"(many-wr) Bad transfer status \" + buf[2]));\r\n                        }\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Device.prototype.regOp = function (regId, val) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var request, sendargs, buf;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        request = util_1.regRequest(regId, val !== null);\r\n                        sendargs = [0, 1, request];\r\n                        if (val !== null) {\r\n                            util_1.addInt32(sendargs, val);\r\n                        }\r\n                        return [4 /*yield*/, this.dap.cmdNums(5 /* DAP_TRANSFER */, sendargs)];\r\n                    case 1:\r\n                        buf = _a.sent();\r\n                        if (buf[1] !== 1) {\r\n                            console.error(\"Make sure you have initialised the DAP connection.\");\r\n                            throw new Error((\"Bad #trans \" + buf[1]));\r\n                        }\r\n                        else if (buf[2] !== 1) {\r\n                            if (buf[2] === 2) {\r\n                                throw new Error((\"Transfer wait\"));\r\n                            }\r\n                            throw new Error((\"Bad transfer status \" + buf[2]));\r\n                        }\r\n                        return [2 /*return*/, buf];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return Device;\r\n}());\r\nexports.Device = Device;\r\n//# sourceMappingURL=device.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../dapjs/built/device.js\n// module id = 10\n// module chunks = 0","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar util_1 = require(\"./util\");\r\nvar Dap = (function () {\r\n    function Dap(hid) {\r\n        this.maxSent = 1;\r\n        this.hid = hid;\r\n    }\r\n    Dap.prototype.resetTarget = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                return [2 /*return*/, this.cmdNums(10 /* DAP_RESET_TARGET */, [])];\r\n            });\r\n        });\r\n    };\r\n    Dap.prototype.disconnect = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                return [2 /*return*/, this.cmdNums(3 /* DAP_DISCONNECT */, [])];\r\n            });\r\n        });\r\n    };\r\n    Dap.prototype.cmdNums = function (op, data) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var buf;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        data.unshift(op);\r\n                        return [4 /*yield*/, this.send(data)];\r\n                    case 1:\r\n                        buf = _a.sent();\r\n                        if (buf[0] !== op) {\r\n                            throw new Error(\"Bad response for \" + op + \" -> \" + buf[0]);\r\n                        }\r\n                        switch (op) {\r\n                            case 2 /* DAP_CONNECT */:\r\n                            case 0 /* DAP_INFO */:\r\n                            case 5 /* DAP_TRANSFER */:\r\n                                break;\r\n                            default:\r\n                                if (buf[1] !== 0) {\r\n                                    throw new Error(\"Bad status for \" + op + \" -> \" + buf[1]);\r\n                                }\r\n                        }\r\n                        return [2 /*return*/, buf];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Dap.prototype.connect = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var v, buf;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        console.log(\"Connecting...\");\r\n                        return [4 /*yield*/, this.info(254 /* PACKET_COUNT */)];\r\n                    case 1:\r\n                        v = _a.sent();\r\n                        if (v) {\r\n                            this.maxSent = v;\r\n                        }\r\n                        else {\r\n                            throw new Error(\"DAP_INFO returned invalid packet count.\");\r\n                        }\r\n                        return [4 /*yield*/, this.cmdNums(17 /* DAP_SWJ_CLOCK */, util_1.addInt32(null, 1000000))];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.cmdNums(2 /* DAP_CONNECT */, [0])];\r\n                    case 3:\r\n                        buf = _a.sent();\r\n                        if (buf[1] !== 1) {\r\n                            throw new Error(\"SWD mode not enabled.\");\r\n                        }\r\n                        return [4 /*yield*/, this.cmdNums(17 /* DAP_SWJ_CLOCK */, util_1.addInt32(null, 1000000))];\r\n                    case 4:\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.cmdNums(4 /* DAP_TRANSFER_CONFIGURE */, [0, 0x50, 0, 0, 0])];\r\n                    case 5:\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.cmdNums(19 /* DAP_SWD_CONFIGURE */, [0])];\r\n                    case 6:\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.jtagToSwd()];\r\n                    case 7:\r\n                        _a.sent();\r\n                        console.log(\"Connected\");\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Dap.prototype.jtagToSwd = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var arrs, _i, arrs_1, arr;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        arrs = [\r\n                            [56, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff],\r\n                            [16, 0x9e, 0xe7],\r\n                            [56, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff],\r\n                            [8, 0x00],\r\n                        ];\r\n                        _i = 0, arrs_1 = arrs;\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        if (!(_i < arrs_1.length)) return [3 /*break*/, 4];\r\n                        arr = arrs_1[_i];\r\n                        return [4 /*yield*/, this.swjSequence(arr)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        _a.label = 3;\r\n                    case 3:\r\n                        _i++;\r\n                        return [3 /*break*/, 1];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Dap.prototype.swjSequence = function (data) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                return [2 /*return*/, this.cmdNums(18 /* DAP_SWJ_SEQUENCE */, data)];\r\n            });\r\n        });\r\n    };\r\n    Dap.prototype.info = function (id) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var buf;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.cmdNums(0 /* DAP_INFO */, [id])];\r\n                    case 1:\r\n                        buf = _a.sent();\r\n                        if (buf[1] === 0) {\r\n                            return [2 /*return*/, null];\r\n                        }\r\n                        switch (id) {\r\n                            case 240 /* CAPABILITIES */:\r\n                            case 254 /* PACKET_COUNT */:\r\n                            case 255 /* PACKET_SIZE */:\r\n                                if (buf[1] === 1) {\r\n                                    return [2 /*return*/, buf[2]];\r\n                                }\r\n                                else if (buf[1] === 2) {\r\n                                    return [2 /*return*/, buf[3] << 8 | buf[2]];\r\n                                }\r\n                        }\r\n                        return [2 /*return*/, buf.slice(2, buf[1] + 2 - 1)]; // .toString(\"utf8\")\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Dap.prototype.send = function (command) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var array, response;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        array = Uint8Array.from(command);\r\n                        return [4 /*yield*/, this.hid.write(array.buffer)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.hid.read()];\r\n                    case 2:\r\n                        response = _a.sent();\r\n                        return [2 /*return*/, new Uint8Array(response.buffer)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return Dap;\r\n}());\r\nexports.Dap = Dap;\r\n//# sourceMappingURL=dap.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../dapjs/built/dap.js\n// module id = 11\n// module chunks = 0","\"use strict\";\n/*\n Flash OS Routines (Automagically Generated)\n Copyright (c) 2017-2017 ARM Limited\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n     http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.K64F_FLASH_ALGO = {\n    // Flash algorithm as a hex string\n    instructions: [\n        0xb510483e, 0x5120f24c, 0xf64d81c1, 0x81c11128, 0xf0218801, 0x80010101, 0x78414839, 0x0160f001,\n        0xbf0c2940, 0x21002101, 0x444a4a36, 0xb1397011, 0xf0217841, 0x70410160, 0xf0117841, 0xd1fb0f60,\n        0x44484831, 0xf864f000, 0xbf182800, 0xbd102001, 0x4448482c, 0xb1587800, 0x78414829, 0x0160f021,\n        0x0140f041, 0x78417041, 0x0160f001, 0xd1fa2940, 0x47702000, 0xb5104824, 0x44484924, 0xf891f000,\n        0xbf182800, 0x2100bd10, 0xe8bd481f, 0x44484010, 0xb958f000, 0x4c1cb570, 0x444c4605, 0x4b1b4601,\n        0x68e24620, 0xf8b6f000, 0xbf182800, 0x2300bd70, 0x68e24629, 0x4070e8bd, 0x44484813, 0xb94cf000,\n        0x460cb570, 0x4606460b, 0x480f4601, 0x4615b084, 0xf0004448, 0x2800f8eb, 0xb004bf1c, 0x2000bd70,\n        0xe9cd2101, 0x90021000, 0x462b4807, 0x46314622, 0xf0004448, 0xb004f97f, 0x0000bd70, 0x40052000,\n        0x4007e000, 0x00000004, 0x00000008, 0x6b65666b, 0xbf042800, 0x47702004, 0x6cc949ea, 0x6103f3c1,\n        0xbf08290f, 0x1180f44f, 0x4ae7bf1f, 0xf832447a, 0x02891011, 0xe9c02200, 0x21022100, 0x61426081,\n        0x618202c9, 0x1203e9c0, 0x52a0f04f, 0x2108e9c0, 0x47702000, 0xbf0e2800, 0x61012004, 0x47702000,\n        0x48da4602, 0x49d96840, 0x0070f440, 0x47706048, 0x217048d7, 0x21807001, 0x78017001, 0x0f80f011,\n        0x7800d0fb, 0x0f20f010, 0x2067bf1c, 0xf0104770, 0xbf1c0f10, 0x47702068, 0x0001f010, 0x2069bf18,\n        0x28004770, 0x2004bf04, 0xb5104770, 0x4ac84604, 0x403bf06f, 0x48c76050, 0xbf144281, 0x2000206b,\n        0xbf182800, 0x4620bd10, 0xffd2f7ff, 0x46204603, 0xffc6f7ff, 0xbd104618, 0xbf042800, 0x47702004,\n        0x60532300, 0x60d36093, 0x61536113, 0x61d36193, 0x68c16011, 0xe9d06051, 0xfbb11001, 0x6090f0f0,\n        0x21102008, 0x0103e9c2, 0x1005e9c2, 0x61d02004, 0x47702000, 0x4df0e92d, 0x4615b088, 0x460c4698,\n        0x466a4682, 0xffd8f7ff, 0x4621462a, 0x9b044650, 0xf931f000, 0xbf1c0007, 0xe8bdb008, 0xe9dd8df0,\n        0x19604600, 0xfbb51e45, 0xfb06f0f6, 0xb1205010, 0xf0f6fbb5, 0x43701c40, 0x42ac1e45, 0xf8dfbf98,\n        0xd81cb270, 0x407ff024, 0x6010f040, 0x0004f8cb, 0x45804898, 0x206bbf14, 0x28002000, 0xb008bf1c,\n        0x8df0e8bd, 0xf7ff4650, 0x4607ff73, 0x0010f8da, 0xbf182800, 0xb9174780, 0x42ac4434, 0x4650d9e2,\n        0xff5ef7ff, 0x4638b008, 0x8df0e8bd, 0xbf042a00, 0x47702004, 0x45f0e92d, 0x4614b089, 0x460d461e,\n        0x466a4680, 0xff88f7ff, 0x46294632, 0x9b034640, 0xf8e1f000, 0xbf1c0007, 0xe8bdb009, 0x9d0085f0,\n        0xbf182e00, 0xa1e8f8df, 0xf854d025, 0xf8ca0b04, 0x98030008, 0xbf042804, 0x407ff025, 0x60c0f040,\n        0x2808d009, 0xf854d109, 0xf8ca0b04, 0xf025000c, 0xf040407f, 0xf8ca60e0, 0x46400004, 0xff28f7ff,\n        0x1010f8d8, 0x29004607, 0x4788bf18, 0x9803b91f, 0x1a364405, 0x4640d1d9, 0xff12f7ff, 0x4638b009,\n        0x85f0e8bd, 0xbf042800, 0x47702004, 0xea424a62, 0x4a5f4101, 0xe70b6051, 0x4dffe92d, 0x4614b088,\n        0x460d469a, 0x9808466a, 0xff36f7ff, 0x46294622, 0x98089b05, 0xf88ff000, 0xbf1c2800, 0xe8bdb00c,\n        0x466a8df0, 0x98084629, 0xff26f7ff, 0xf8dd9e00, 0x42708008, 0x0100f1c8, 0x42474008, 0xbf0842b7,\n        0x2c004447, 0xf8dfbf18, 0xd01fb128, 0x42a51bbd, 0x4625bf88, 0xf0269805, 0xfbb5417f, 0xf041f0f0,\n        0xf8cb7180, 0x04001004, 0x200aea40, 0x00fff040, 0x0008f8cb, 0xf7ff9808, 0x2800fecb, 0xb00cbf1c,\n        0x8df0e8bd, 0x442e1b64, 0xd1df4447, 0x2000b00c, 0x8df0e8bd, 0xbf042b00, 0x47702004, 0x4dffe92d,\n        0x4616b088, 0x7a14e9dd, 0x460c461d, 0xf8dd466a, 0x98088058, 0xfee0f7ff, 0x3007e9dd, 0x46214632,\n        0xf839f000, 0xbf1c2800, 0xe8bdb00c, 0x9c008df0, 0xbf042e00, 0xe8bdb00c, 0xf8df8df0, 0xf06fb094,\n        0xea40407f, 0xf0246707, 0xf040407f, 0xf8cb7000, 0xf8cb0004, 0x68287008, 0x000cf8cb, 0xf7ff9808,\n        0xb168fe87, 0x0f00f1ba, 0xf8cabf18, 0xf1b84000, 0xbf1c0f00, 0xf8c82100, 0xb00c1000, 0x8df0e8bd,\n        0x1a769907, 0x0103f021, 0x9907440d, 0xd1da440c, 0xe8bdb00c, 0x28008df0, 0x2004bf04, 0xf1a34770,\n        0x42190301, 0x421abf0e, 0x47702065, 0x428b6803, 0x6840d806, 0x44184411, 0xbf244288, 0x47702000,\n        0x47702066, 0x40048000, 0x000003b4, 0x4001f000, 0x40020000, 0x6b65666b, 0x4000ffff, 0x40020004,\n        0x40020010, 0x00100008, 0x00200018, 0x00400030, 0x00800060, 0x010000c0, 0x02000180, 0x04000300,\n        0x00000600, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,\n        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,\n    ],\n    // Relative function addresses\n    pcInit: 0x1,\n    pcUnInit: 0x51,\n    pcProgramPage: 0xc1,\n    pcEraseSector: 0x95,\n    pcEraseAll: 0x75,\n    // Relative region addresses and sizes\n    roStart: 0x0,\n    roSize: 0x504,\n    rwStart: 0x504,\n    rwSize: 0x8,\n    ziStart: 0x50c,\n    ziSize: 0x34,\n    // Flash information\n    flashStart: 0x0,\n    flashSize: 0x0,\n    pageSize: 0x400,\n    sectorSizes: [\n        [0x0, 0x400],\n    ],\n    breakpointLocation: 0x20000001,\n    staticBase: 0x20000524,\n    stackPointer: 0x20000800,\n    loadAddress: 0x20000000,\n};\n//# sourceMappingURL=K64f.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/dapjs-targets/bin/K64F.js\n// module id = 12\n// module chunks = 0","\"use strict\";\n/*\n Flash OS Routines (Automagically Generated)\n Copyright (c) 2017-2017 ARM Limited\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n     http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MICROBIT_FLASH_ALGO = {\n    // Flash algorithm as a hex string\n    instructions: [\n        0x47702000, 0x47702000, 0x4c34b4f0, 0x60602002, 0x60e02001, 0x4e334d32, 0x4b344f33, 0x07c06828,\n        0x2000d003, 0xbcf06060, 0x68704770, 0x0e000600, 0x6879d0f4, 0xd0f12900, 0x07c2492d, 0x600bd000,\n        0x08401d09, 0xe7e9d1f9, 0x4c24b4f0, 0x60612102, 0x42884928, 0x2001d302, 0xe0006160, 0x4e2160a0,\n        0x4d234f21, 0x68704b21, 0x0e000600, 0x6879d009, 0xd0062900, 0x07c24629, 0x600bd000, 0x08401d09,\n        0x4817d1f9, 0x07c06800, 0x2000d0ed, 0xbcf06060, 0xb4f04770, 0x4911088e, 0x604b2301, 0x4d134f11,\n        0xc002ca02, 0x6809490e, 0xd00707c9, 0xd1f71e76, 0x2100480a, 0xbcf06041, 0x47704608, 0x06096879,\n        0xd0ef0e09, 0x685b4b08, 0xd0eb2b00, 0x07cc4b08, 0x601dd000, 0x08491d1b, 0xe7e3d1f9, 0x4001e500,\n        0x4001e400, 0x40010400, 0x40010500, 0x6e524635, 0x40010600, 0x10001000, 0x00000000\n    ],\n    // Relative function addresses\n    pcInit: 0x1,\n    pcUnInit: 0x5,\n    pcProgramPage: 0x93,\n    pcEraseSector: 0x49,\n    pcEraseAll: 0x9,\n    // Relative region addresses and sizes\n    roStart: 0x0,\n    roSize: 0xf8,\n    rwStart: 0xf8,\n    rwSize: 0x4,\n    ziStart: 0xfc,\n    ziSize: 0x0,\n    // Flash information\n    flashStart: 0x0,\n    flashSize: 0x40000,\n    pageSize: 0x4,\n    sectorSizes: [\n        [0x0, 0x400],\n    ],\n    breakpointLocation: 0x20000001,\n    staticBase: 0x20000118,\n    stackPointer: 0x20000800,\n    loadAddress: 0x20000000\n};\n//# sourceMappingURL=microbit.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/dapjs-targets/bin/microbit.js\n// module id = 13\n// module chunks = 0","\"use strict\";\n/**\n * Copyright 2014 Gordon Williams (gw@pur3.co.uk)\n *\n * This Source Code is subject to the terms of the Mozilla Public\n * License, v2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * ------------------------------------------------------------------\n * Automatically run an assembler on inline assembler statements\n * ------------------------------------------------------------------\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*  Thumb reference :\n    http://ece.uwaterloo.ca/~ece222/ARM/ARM7-TDMI-manual-pt3.pdf\n\n    ARM reference\n    https://web.eecs.umich.edu/~prabal/teaching/eecs373-f11/readings/ARMv7-M_ARM.pdf\n*/\n// list of registers (for push/pop type commands)\nvar rlistLr = function (value) {\n    var regs = value.split(\",\");\n    var vals = {\n        r0: 1,\n        r1: 2,\n        r2: 4,\n        r3: 8,\n        r4: 16,\n        r5: 32,\n        r6: 64,\n        r7: 128,\n        lr: 256,\n    };\n    var bits = 0;\n    for (var _i = 0, regs_1 = regs; _i < regs_1.length; _i++) {\n        var r = regs_1[_i];\n        r = r.trim();\n        if (!(r in vals)) {\n            throw new Error(\"Unknown register name \" + reg);\n        }\n        bits |= vals[r];\n    }\n    return bits;\n};\nvar reg = function (regOffset) {\n    return function (r) {\n        var vals = {\n            r0: 0,\n            r1: 1,\n            r2: 2,\n            r3: 3,\n            r4: 4,\n            r5: 5,\n            r6: 6,\n            r7: 7,\n        };\n        if (!(r in vals)) {\n            throw new Error(\"Unknown register name \" + reg);\n        }\n        return vals[r] << regOffset;\n    };\n};\nvar reg4 = function (regOffset) {\n    // 4 bit register\n    return function (r) {\n        var vals = {\n            r0: 0,\n            r1: 1,\n            r2: 2,\n            r3: 3,\n            r4: 4,\n            r5: 5,\n            r6: 6,\n            r7: 7,\n            r8: 8,\n            r9: 9,\n            r10: 10,\n            r11: 11,\n            r12: 12,\n            r13: 13,\n            r14: 14,\n            r15: 15,\n            lr: 14,\n            pc: 15,\n        };\n        if (!(r in vals)) {\n            throw new Error(\"Unknown register name \" + r);\n        }\n        return vals[r] << regOffset;\n    };\n};\nvar regOrImmediate = function (regOffset, immediateBit) {\n    return function (r) {\n        var regVal = parseInt(r, null);\n        if (regVal >= 0 && regVal < 8) {\n            return ((regVal & 7) << regOffset) | (1 << immediateBit);\n        }\n        var vals = {\n            r0: 0,\n            r1: 1,\n            r2: 2,\n            r3: 3,\n            r4: 4,\n            r5: 5,\n            r6: 6,\n            r7: 7,\n        };\n        if (!(r in vals)) {\n            throw new Error(\"Unknown register name, or immediate out of range 0..7 \" + r);\n        }\n        return vals[r] << regOffset;\n    };\n};\nvar regBaseOffset = function (baseOffset, offsetOffset) {\n    return function (value) {\n        var parms = value.split(\",\");\n        return reg(baseOffset)(parms[0]) | reg(offsetOffset)(parms[0]);\n    };\n};\nvar thumb2ImmediateT3 = function (value) {\n    if (value[0] !== \"#\") {\n        throw new Error(\"Expecting '#' before number\");\n    }\n    var v = parseInt(value.substr(1), null);\n    if (v >= 0 && v < 65536) {\n        // https://web.eecs.umich.edu/~prabal/teaching/eecs373-f11/readings/ARMv7-M_ARM.pdf page 347\n        var imm4 = void 0;\n        var i = void 0;\n        var imm3 = void 0;\n        var imm8 = void 0; // what the...?\n        imm4 = (v >> 12) & 15;\n        i = (v >> 11) & 1;\n        imm3 = (v >> 8) & 7;\n        imm8 = v & 255;\n        return (i << 26) | (imm4 << 16) | (imm3 << 12) | imm8;\n    }\n    throw new Error(\"Invalid number '\" + value + \"' - must be between 0 and 65535\");\n};\nvar convertInt = function (offset, bits, shift, signed) {\n    return function (value, labels) {\n        var maxValue = ((1 << bits) - 1) << shift;\n        var minValue = 0;\n        if (signed) {\n            minValue = -(1 << (bits - 1));\n            maxValue += minValue;\n        }\n        var binValue;\n        if (value[0] === \"#\") {\n            binValue = parseInt(value.substr(1), null);\n        }\n        else {\n            var addValue = 0;\n            var maths = value.indexOf(\"+\");\n            if (maths >= 0) {\n                addValue = parseInt(value.substr(maths), null);\n                value = value.substr(0, maths);\n            }\n            if (value in labels) {\n                binValue = labels[value] + addValue - labels.PC;\n            }\n            else {\n                throw new Error(\"Unknown label '\" + value + \"'\");\n            }\n        }\n        // console.log(\"VALUE----------- \"+binValue+\" PC \"+labels[\"PC\"]+\" L \"+labels[value]);\n        if (binValue >= minValue && binValue <= maxValue && (binValue & ((1 << shift) - 1)) === 0) {\n            return ((binValue >> shift) & ((1 << bits) - 1)) << offset;\n        }\n        var msg = \"Invalid number '\" + value + \"' (\" + binValue + \") - must be between 0 and \" + maxValue;\n        if (shift !== 0) {\n            msg += \" and a multiple of \" + (1 << shift);\n        }\n        throw msg;\n    };\n};\nvar uint = function (offset, bits, shift) {\n    return convertInt(offset, bits, shift, false);\n};\nvar sint = function (offset, bits, shift) {\n    return convertInt(offset, bits, shift, true);\n};\n// special 23-bit address (bottom bit ignored) split into two halves\nvar blAddr = function () {\n    var normal = sint(0, 22, 1); // un-split address\n    return function (value, labels) {\n        var v = normal(value, labels);\n        return (((v >> 11) & 0x7ff) << 16) | (v & 0x7ff);\n    };\n};\nvar ops = {\n    // Format 1: move shifted register\n    lsl: [\n        {\n            base: \"00000-----___---\",\n            regex: /(r[0-7]),(r[0-7]),(#[0-9]+)$/,\n            args: [reg(0), reg(3), uint(6, 5, 0)],\n        },\n        {\n            base: \"0100000010___---\",\n            regex: /(r[0-7]),(r[0-7])$/,\n            args: [reg(0), reg(3)],\n        },\n    ],\n    lsr: [\n        {\n            base: \"00001-----___---\",\n            regex: /(r[0-7]),(r[0-7]),(#[0-9]+)$/,\n            args: [reg(0), reg(3), uint(6, 5, 0)],\n        },\n        {\n            base: \"0100000011___---\",\n            regex: /(r[0-7]),(r[0-7])$/,\n            args: [reg(0), reg(3)],\n        },\n    ],\n    asr: [\n        {\n            base: \"00010-----___---\",\n            regex: /(r[0-7]),(r[0-7]),(#[0-9]+)$/,\n            args: [reg(0), reg(3), uint(6, 5, 0)],\n        },\n        {\n            base: \"0100000100___---\",\n            regex: /(r[0-7]),(r[0-7])$/,\n            args: [reg(0), reg(3)],\n        },\n    ],\n    // 5.2 Format 2: add/subtract\n    // 00011\n    // 5.3 Format 3: move/compare/add/subtract immediate\n    cmp: [\n        // move/compare/subtract immediate\n        {\n            base: \"00101---________\",\n            regex: /(r[0-7]),(#[0-9]+)$/,\n            args: [reg(8), uint(0, 8, 0)],\n        },\n        {\n            base: \"0100001010___---\",\n            regex: /(r[0-7]),(r[0-7])$/,\n            args: [reg(0), reg(3)],\n        },\n    ],\n    // 5.4 Format 4: ALU operations\n    and: [\n        {\n            base: \"0100000000___---\",\n            regex: /(r[0-7]),(r[0-7])$/,\n            args: [reg(0), reg(3)],\n        },\n    ],\n    eor: [\n        {\n            base: \"0100000001___---\",\n            regex: /(r[0-7]),(r[0-7])$/,\n            args: [reg(0), reg(3)],\n        },\n    ],\n    // lsl is above\n    // lsr is above\n    // asr is above\n    adc: [\n        {\n            base: \"0100000101___---\",\n            regex: /(r[0-7]),(r[0-7])$/,\n            args: [reg(0), reg(3)],\n        },\n    ],\n    sbc: [\n        {\n            base: \"0100000110___---\",\n            regex: /(r[0-7]),(r[0-7])$/,\n            args: [reg(0), reg(3)],\n        },\n    ],\n    ror: [\n        {\n            base: \"0100000111___---\",\n            regex: /(r[0-7]),(r[0-7])$/,\n            args: [reg(0), reg(3)],\n        },\n    ],\n    tst: [\n        {\n            base: \"0100001000___---\",\n            regex: /(r[0-7]),(r[0-7])$/,\n            args: [reg(0), reg(3)],\n        },\n    ],\n    neg: [\n        {\n            base: \"0100001001___---\",\n            regex: /(r[0-7]),(r[0-7])$/,\n            args: [reg(0), reg(3)],\n        },\n    ],\n    // cmp is above\n    cmn: [\n        {\n            base: \"0100001011___---\",\n            regex: /(r[0-7]),(r[0-7])$/,\n            args: [reg(0), reg(3)],\n        },\n    ],\n    orr: [\n        {\n            base: \"0100001100___---\",\n            regex: /(r[0-7]),(r[0-7])$/,\n            args: [reg(0), reg(3)],\n        },\n    ],\n    mul: [\n        {\n            base: \"0100001101___---\",\n            regex: /(r[0-7]),(r[0-7])$/,\n            args: [reg(0), reg(3)],\n        },\n    ],\n    bic: [\n        {\n            base: \"0100001110___---\",\n            regex: /(r[0-7]),(r[0-7])$/,\n            args: [reg(0), reg(3)],\n        },\n    ],\n    mvn: [\n        {\n            base: \"0100001111___---\",\n            regex: /(r[0-7]),(r[0-7])$/,\n            args: [reg(0), reg(3)],\n        },\n    ],\n    // 5.5 Format 5: Hi register operations/branch exchange\n    // 5.6 Format 6: PC-relative load\n    //  done (below)\n    // 5.7 Format 7: load/store with register offset\n    //  done (below)\n    // 5.8 Format 8: load/store sign-extended byte/halfword\n    // 5.9 Format 9: load/store with immediate offset\n    //  done (below)\n    // 5.10 Format 10: load/store halfword\n    // 5.11 Format 11: SP-relative load/store\n    // 5.12 Format 12: load address\n    // done (below)\n    // 5.13 Format 13: add offset to Stack Pointer\n    // 5.14 Format 14: push/pop registers\n    //  done (below)\n    // 5.16 Format 16: conditional branch\n    beq: [{ base: \"11010000________\", regex: /^(.*)$/, args: [sint(0, 8, 1)] }],\n    bne: [{ base: \"11010001________\", regex: /^(.*)$/, args: [sint(0, 8, 1)] }],\n    bcs: [{ base: \"11010010________\", regex: /^(.*)$/, args: [sint(0, 8, 1)] }],\n    bcc: [{ base: \"11010011________\", regex: /^(.*)$/, args: [sint(0, 8, 1)] }],\n    bmi: [{ base: \"11010100________\", regex: /^(.*)$/, args: [sint(0, 8, 1)] }],\n    bpl: [{ base: \"11010101________\", regex: /^(.*)$/, args: [sint(0, 8, 1)] }],\n    bvs: [{ base: \"11010110________\", regex: /^(.*)$/, args: [sint(0, 8, 1)] }],\n    bvc: [{ base: \"11010111________\", regex: /^(.*)$/, args: [sint(0, 8, 1)] }],\n    bhi: [{ base: \"11011000________\", regex: /^(.*)$/, args: [sint(0, 8, 1)] }],\n    bls: [{ base: \"11011001________\", regex: /^(.*)$/, args: [sint(0, 8, 1)] }],\n    bge: [{ base: \"11011010________\", regex: /^(.*)$/, args: [sint(0, 8, 1)] }],\n    blt: [{ base: \"11011011________\", regex: /^(.*)$/, args: [sint(0, 8, 1)] }],\n    bgt: [{ base: \"11011100________\", regex: /^(.*)$/, args: [sint(0, 8, 1)] }],\n    ble: [{ base: \"11011101________\", regex: /^(.*)$/, args: [sint(0, 8, 1)] }],\n    // 5.17 Format 17: software interrupt\n    // 5.18 Format 18: unconditional branch\n    b: [{ base: \"11100___________\", regex: /^(.*)$/, args: [sint(0, 11, 1)] }],\n    // 5.19 Format 19: long branch with link\n    bl: [\n        {\n            base: \"11110___________11111___________\",\n            regex: /^(.*)$/,\n            args: [blAddr()],\n        },\n    ],\n    bx: [{ base: \"010001110----000\", regex: /(lr|r[0-9]+)$/, args: [reg4(3)] }],\n    // ....\n    adr: [\n        {\n            base: \"10100---________\",\n            regex: /^(r[0-7]),([a-zA-Z_][0-9a-zA-Z_]*)$/,\n            args: [reg(8), uint(0, 8, 2)],\n        },\n        {\n            base: \"10100---________\",\n            regex: /^(r[0-7]),([a-zA-Z_][0-9a-zA-Z_]*\\+[0-9]+)$/,\n            args: [reg(8), uint(0, 8, 2)],\n        },\n    ],\n    push: [{ base: \"1011010-________\", regex: /^{(.*)}$/, args: [rlistLr] }],\n    pop: [{ base: \"1011110-________\", regex: /^{(.*)}$/, args: [rlistLr] }],\n    add: [\n        {\n            base: \"00110---________\",\n            regex: /(r[0-7]),(#[0-9]+)$/,\n            args: [reg(8), uint(0, 8, 0)],\n        },\n        {\n            base: \"10100---________\",\n            regex: /^(r[0-7]),pc,(#[0-9]+)$/,\n            args: [reg(8), uint(0, 8, 2)],\n        },\n        {\n            base: \"10101---________\",\n            regex: /^(r[0-7]),sp,(#[0-9]+)$/,\n            args: [reg(8), uint(0, 8, 2)],\n        },\n        {\n            base: \"101100000_______\",\n            regex: /^sp,(#[0-9]+)$/,\n            args: [uint(0, 7, 2)],\n        },\n        {\n            base: \"00011-0___---___\",\n            regex: /^(r[0-7]),(r[0-7]),([^,]+)$/,\n            args: [reg(0), reg(3), regOrImmediate(6, 10)],\n        },\n    ],\n    adds: [\n        {\n            base: \"00011-0___---___\",\n            regex: /^(r[0-7]),(r[0-7]),([^,]+)$/,\n            args: [reg(0), reg(3), regOrImmediate(6, 10)],\n        },\n    ],\n    \"adc.w\": [\n        {\n            base: \"111010110100----________--------\",\n            regex: /^(r[0-7]),(r[0-7]),(r[0-7])$/,\n            args: [reg(16), reg(8), reg(0)],\n        },\n    ],\n    \"add.w\": [\n        {\n            base: \"11110001--------________--------\",\n            regex: /^(r[0-7]),(r[0-7]),(#[0-9]+)$/,\n            args: [reg(16), reg(8), uint(0, 8, 0)],\n        },\n    ],\n    sub: [\n        {\n            base: \"00111---________\",\n            regex: /(r[0-7]),(#[0-9]+)$/,\n            args: [reg(8), uint(0, 8, 0)],\n        },\n        /*{ base:\"10100---________\", regex : /^([^,]+),pc,(#[0-9]+)$/,args:[reg(8),uint(0,8,2)] },*/\n        {\n            base: \"101100001_______\",\n            regex: /^sp,(#[0-9]+)$/,\n            args: [uint(0, 7, 2)],\n        },\n        {\n            base: \"00011-1___---___\",\n            regex: /^([^,]+),([^,]+),([^,]+)$/,\n            args: [reg(0), reg(3), regOrImmediate(6, 10)],\n        },\n    ],\n    str: [\n        {\n            base: \"0101000---___---\",\n            regex: /(r[0-7]),\\[(r[0-7]),(r[0-7])\\]$/,\n            args: [reg(0), reg(3), reg(6)],\n        },\n        {\n            base: \"10010---________\",\n            regex: /(r[0-7]),\\[sp,(#[0-9]+)\\]$/,\n            args: [reg(8), uint(0, 8, 2)],\n        },\n        {\n            base: \"0110000000___---\",\n            regex: /(r[0-7]),\\[(r[0-7])\\]$/,\n            args: [reg(0), reg(3)],\n        },\n        {\n            base: \"0110000---___---\",\n            regex: /(r[0-7]),\\[(r[0-7]),(#[0-9]+)\\]$/,\n            args: [reg(0), reg(3), uint(6, 5, 2)],\n        },\n    ],\n    strb: [\n        {\n            base: \"0101010---___---\",\n            regex: /(r[0-7]),\\[(r[0-7]),(r[0-7])\\]$/,\n            args: [reg(0), reg(3), reg(6)],\n        },\n        {\n            base: \"0111000---___---\",\n            regex: /(r[0-7]),\\[(r[0-7]),(#[0-9]+)\\]$/,\n            args: [reg(0), reg(3), uint(6, 5, 2)],\n        },\n    ],\n    ldr: [\n        {\n            base: \"01001---________\",\n            regex: /(r[0-7]),\\[pc,(#[0-9]+)\\]$/,\n            args: [reg(8), uint(0, 8, 2)],\n        },\n        {\n            base: \"10011---________\",\n            regex: /(r[0-7]),\\[sp,(#[0-9]+)\\]$/,\n            args: [reg(8), uint(0, 8, 2)],\n        },\n        {\n            base: \"01001---________\",\n            regex: /(r[0-7]),([a-zA-Z_][0-9a-zA-Z_]*)$/,\n            args: [reg(8), uint(0, 8, 2)],\n        },\n        {\n            base: \"01001---________\",\n            regex: /(r[0-7]),([a-zA-Z_][0-9a-zA-Z_]*\\+[0-9]+)$/,\n            args: [reg(8), uint(0, 8, 2)],\n        },\n        {\n            base: \"0101100---___---\",\n            regex: /(r[0-7]),\\[(r[0-7]),(r[0-7])\\]$/,\n            args: [reg(0), reg(3), reg(6)],\n        },\n        {\n            base: \"0110100000___---\",\n            regex: /(r[0-7]),\\[(r[0-7])\\]$/,\n            args: [reg(0), reg(3)],\n        },\n        {\n            base: \"0110100---___---\",\n            regex: /(r[0-7]),\\[(r[0-7]),(#[0-9]+)\\]$/,\n            args: [reg(0), reg(3), uint(6, 5, 2)],\n        },\n    ],\n    ldrb: [\n        {\n            base: \"0101110---___---\",\n            regex: /(r[0-7]),\\[(r[0-7]),(r[0-7])\\]$/,\n            args: [reg(0), reg(3), reg(6)],\n        },\n        {\n            base: \"0110100---___---\",\n            regex: /(r[0-7]),\\[(r[0-7]),(#[0-9]+)\\]$/,\n            args: [reg(0), reg(3), uint(6, 5, 2)],\n        },\n    ],\n    mov: [\n        {\n            base: \"00100---________\",\n            regex: /(r[0-7]),(#[0-9]+)$/,\n            args: [reg(8), uint(0, 8, 0)],\n        },\n        {\n            base: \"0001110000---___\",\n            regex: /(r[0-7]),(r[0-7])$/,\n            args: [reg(0), reg(3)],\n        },\n        { base: \"0100011010---101\", regex: /sp,(r[0-7])$/, args: [reg(3)] },\n    ],\n    movs: [\n        {\n            base: \"00100---________\",\n            regex: /(r[0-7]),(#[0-9]+)$/,\n            args: [reg(8), uint(0, 8, 0)],\n        },\n    ],\n    movw: [\n        {\n            base: \"11110-100100----0___----________\",\n            regex: /(r[0-7]),(#[0-9]+)$/,\n            args: [reg4(8), thumb2ImmediateT3],\n        },\n    ],\n    \".word\": [\n        {\n            base: \"--------------------------------\",\n            regex: /0x([0-9A-Fa-f]+)$/,\n            args: [\n                function (v) {\n                    var vi = parseInt(v, 16);\n                    return (vi >> 16) | (vi << 16);\n                },\n            ],\n        },\n        {\n            base: \"--------------------------------\",\n            regex: /([0-9]+)$/,\n            args: [\n                function (v) {\n                    var vi = parseInt(v, null);\n                    return (vi >> 16) | (vi << 16);\n                },\n            ],\n        },\n    ],\n    nop: [{ base: \"0100011011000000\", regex: new RegExp(\"\"), args: [] }],\n    cpsie: [{ base: \"1011011001100010\", regex: /i/, args: [] }],\n    cpsid: [{ base: \"1011011001110010\", regex: /i/, args: [] }],\n    wfe: [{ base: \"1011111100100000\", regex: /i/, args: [] }],\n    wfi: [{ base: \"1011111100110000\", regex: /i/, args: [] }],\n    // for this, uint needs to work without a hash\n    //    \"swi\"    :[{ base:\"11011111--------\", regex : /([0-9]+)$/, args:[uint(0,8,0)] }],\n    // Format 17: software interrupt\n    bkpt: [{ base: \"10111110--------\", regex: /(#[0-9]+)$/, args: [uint(0, 8, 0)] }],\n};\nvar getOpCode = function (binary) {\n    var base = \"\";\n    for (var i = 0; i < binary.length; i++) {\n        var b = binary[i];\n        if (\"-_\".indexOf(b) >= 0) {\n            base += \"0\";\n        }\n        else {\n            base += b;\n        }\n    }\n    var opCode = parseInt(base, 2);\n    if (opCode < 0) {\n        opCode = opCode + 2147483648.0;\n    }\n    return opCode;\n};\nvar assembleInternal = function (asmLines, wordCallback, labels) {\n    var addr = 0;\n    var newLabels = {};\n    asmLines.forEach(function (line) {\n        // setup labels\n        if (labels !== undefined) {\n            labels.PC = addr + 4;\n        }\n        // handle line\n        line = line.trim();\n        if (line === \"\") {\n            return;\n        }\n        if (line.substr(-1) === \":\") {\n            // it's a label\n            var labelName = line.substr(0, line.length - 1);\n            if (newLabels[labelName] !== undefined) {\n                throw new Error(\"Label '\" + labelName + \"' was already defined\");\n            }\n            newLabels[labelName] = addr;\n            return;\n        }\n        // parse instruction\n        var firstArgEnd = line.indexOf(\"\\t\");\n        if (firstArgEnd < 0) {\n            firstArgEnd = line.indexOf(\" \");\n        }\n        if (firstArgEnd < 0) {\n            firstArgEnd = line.length;\n        }\n        var opName = line.substr(0, firstArgEnd);\n        var args = line.substr(firstArgEnd).replace(/[ \\t]/g, \"\").trim();\n        if (!(opName in ops)) {\n            throw new Error(\"Unknown Op '\" + opName + \"' in '\" + line + \"'\");\n        }\n        // search ops\n        var found = false;\n        for (var _i = 0, _a = ops[opName]; _i < _a.length; _i++) {\n            var op = _a[_i];\n            var m = args.match(op.regex);\n            if (m) {\n                found = true;\n                // work out the base opcode\n                var opCode = getOpCode(op.base);\n                if (labels !== undefined) {\n                    // If we're properly generating code, parse each argument.\n                    // Otherwise we're just working out the size in bytes of each line\n                    // and we can skip this\n                    for (var i = 0; i < op.args.length; i++) {\n                        // console.log(i,m[(i|0)+1]);\n                        var argFunction = op.args[i];\n                        var bits = argFunction(m[(i | 0) + 1], labels);\n                        // console.log(\"  \",bits)\n                        opCode |= bits;\n                    }\n                }\n                if (op.base.length > 16) {\n                    wordCallback(opCode >>> 16);\n                    wordCallback(opCode & 0xffff);\n                    addr += 4;\n                }\n                else {\n                    wordCallback(opCode);\n                    addr += 2;\n                }\n                break;\n            }\n        }\n        // now parse args\n        if (!found) {\n            throw new Error(\"Unknown arg style '\" + args + \"' in '\" + line + \"'\");\n        }\n    });\n    return newLabels;\n};\nvar assemble = function (asmLines, wordCallback) {\n    var labels = assembleInternal(asmLines, function () {\n        /* empty */\n    }, undefined);\n    assembleInternal(asmLines, wordCallback, labels);\n};\n// ---------------------------------------------------------------------------\n// ---------------------------------------------------------------------------\n// ---------------------------------------------------------------------------\nexports.assembleBlock = function (asmLines) {\n    var machineCode = [];\n    try {\n        assemble(asmLines, function (word) {\n            machineCode.push(word);\n        });\n    }\n    catch (err) {\n        console.error(\"Assembler failed: \" + err);\n        return undefined;\n    }\n    if (machineCode.length % 2 == 1) {\n        machineCode.push(0);\n    }\n    return new Uint16Array(machineCode);\n};\n//# sourceMappingURL=assembler.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/thumb-assembler/bin/assembler.js\n// module id = 14\n// module chunks = 0","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction bufferExtend(source, length) {\n    var sarr = new Uint8Array(source);\n    var dest = new ArrayBuffer(length);\n    var darr = new Uint8Array(dest);\n    for (var i = 0; i < Math.min(source.byteLength, length); i++) {\n        darr[i] = sarr[i];\n    }\n    return dest;\n}\nvar HID = (function () {\n    function HID(device) {\n        this.device = device;\n    }\n    HID.prototype.open = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var hids, _i, _a, endpoint;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this.device.open()];\n                    case 1:\n                        _b.sent();\n                        return [4 /*yield*/, this.device.selectConfiguration(1)];\n                    case 2:\n                        _b.sent();\n                        hids = this.device.configuration.interfaces.filter(function (intf) { return intf.alternates[0].interfaceClass == 0x03; });\n                        if (hids.length == 0) {\n                            throw 'No HID interfaces found.';\n                        }\n                        this.interfaces = hids;\n                        if (this.interfaces.length == 1) {\n                            this.interface = this.interfaces[0];\n                        }\n                        return [4 /*yield*/, this.device.claimInterface(this.interface.interfaceNumber)];\n                    case 3:\n                        _b.sent();\n                        this.endpoints = this.interface.alternates[0].endpoints;\n                        this.ep_in = null;\n                        this.ep_out = null;\n                        for (_i = 0, _a = this.endpoints; _i < _a.length; _i++) {\n                            endpoint = _a[_i];\n                            if (endpoint.direction == 'in') {\n                                this.ep_in = endpoint;\n                            }\n                            else {\n                                this.ep_out = endpoint;\n                            }\n                        }\n                        if (this.ep_in == null || this.ep_out == null) {\n                            console.log('Unable to find an in and an out endpoint.');\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    HID.prototype.close = function () {\n        return this.device.close();\n    };\n    HID.prototype.write = function (data) {\n        var report_size = this.ep_out.packetSize;\n        var buffer = bufferExtend(data, report_size);\n        return this.device.transferOut(this.ep_out.endpointNumber, buffer);\n    };\n    HID.prototype.read = function () {\n        var report_size = this.ep_in.packetSize;\n        return this.device.transferIn(this.ep_in.endpointNumber, report_size)\n            .then(function (res) { return res.data; });\n    };\n    return HID;\n}());\nexports.default = HID;\n//# sourceMappingURL=hid.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/webhid/bin/hid.js\n// module id = 15\n// module chunks = 0","\nexport interface IPlatform {\n    name: string;\n    productCode: string;\n}\n\nexport class PlatformSelector {\n    private deviceCache: Map<string, IPlatform>;\n    private element: HTMLSelectElement;\n    private deviceElement: HTMLElement;\n\n    constructor(id: string, devices: string) {\n        const elem = document.getElementById(id);\n        this.deviceElement = document.getElementById(devices);\n\n        if (elem.nodeName === \"SELECT\") {\n            this.element = elem as HTMLSelectElement;\n        } else {\n            console.log(elem.nodeName);\n            throw new Error(\"select element must be chosen\");\n        }\n\n        this.deviceCache = new Map<string, IPlatform>();\n    }\n\n    public show(platform: IPlatform) {\n        this.deviceElement.innerHTML =\n            `<option value='${platform.productCode}' id='${platform.productCode}'>${platform.name}</option>`;\n        this.element.value = platform.productCode;\n    }\n\n    public enable() {\n        this.element.disabled = false;\n    }\n\n    public disable() {\n        this.element.disabled = true;\n    }\n\n    public async lookupDevice(code: string) {\n        if (this.deviceCache.has(code)) {\n            return this.deviceCache.get(code);\n        }\n\n        const xhr = new XMLHttpRequest();\n        xhr.open(\"get\", `https://developer.mbed.org/api/v3/platforms/${code}`, true);\n        xhr.responseType = \"json\";\n\n        return new Promise<IPlatform>((resolve, reject) => {\n            xhr.onload = (e: any) => {\n                const device = {\n                    name: xhr.response.name,\n                    productCode: xhr.response.productcode,\n                };\n                this.deviceCache.set(code, device);\n\n                resolve(device);\n            };\n            xhr.send();\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/device_selector.ts","\nexport default class HTMLLogger {\n    private element: Element;\n\n    constructor(selector: string) {\n        this.element = document.querySelector(selector);\n    }\n\n    public log(data: string) {\n        this.element.innerHTML = this.element.innerHTML + data + \"\\n\";\n    }\n\n    public clear() {\n        this.element.innerHTML = \"\";\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/logger.ts"],"sourceRoot":""}